    Checking llmspell-core v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-core)
    Checking llmspell-state-traits v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-state-traits)
    Checking llmspell-utils v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-utils)
    Checking llmspell-storage v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-storage)
    Checking llmspell-security v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-security)
    Checking llmspell-providers v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-providers)
    Checking llmspell-config v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-config)
    Checking llmspell-events v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-events)
    Checking llmspell-hooks v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-hooks)
    Checking llmspell-state-persistence v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-state-persistence)
    Checking llmspell-tools v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-tools)
    Checking llmspell-workflows v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-workflows)
    Checking llmspell-sessions v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-sessions)
warning: this function's return value is unnecessarily wrapped by `Result`
    --> llmspell-tools/src/data/csv_analyzer.rs:1084:5
     |
1084 | /     fn evaluate_expression(
1085 | |         expr: &str,
1086 | |         headers: &csv::StringRecord,
1087 | |         record: &csv::StringRecord,
...    |
1106 | |         Ok(expr.to_string())
1107 | |     }
     | |_____^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
     = note: `-W clippy::unnecessary-wraps` implied by `-W clippy::pedantic`
     = help: to override `-W clippy::pedantic` add `#[allow(clippy::unnecessary_wraps)]`
help: remove `Result` from the return type...
     |
1088 -     ) -> Result<String> {
1088 +     ) -> std::string::String {
     |
help: ...and then change returning expressions
     |
1100 ~                     return format!("{:.2}", left * right);
1101 |                 }
 ...
1105 |         // Default: return the expression as-is
1106 ~         expr.to_string()
     |

warning: wildcard pattern covers any other pattern as it will match anyway
   --> llmspell-tools/src/fs/file_watcher.rs:183:13
    |
183 |             notify::EventKind::Other | _ => FileEventType::Other,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: consider handling `_` separately
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_in_or_patterns
    = note: `-W clippy::wildcard-in-or-patterns` implied by `-W clippy::all`
    = help: to override `-W clippy::all` add `#[allow(clippy::wildcard_in_or_patterns)]`

warning: assigning the result of `Clone::clone()` may be inefficient
   --> llmspell-tools/src/lifecycle/hook_integration.rs:378:25
    |
378 |                         audit_entry.resource_metrics = tool_context.resource_metrics.clone();
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use `clone_from()`: `audit_entry.resource_metrics.clone_from(&tool_context.resource_metrics)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#assigning_clones
    = note: `-W clippy::assigning-clones` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::assigning_clones)]`

warning: assigning the result of `Clone::clone()` may be inefficient
   --> llmspell-tools/src/lifecycle/hook_integration.rs:395:25
    |
395 |                         audit_entry.resource_metrics = tool_context.resource_metrics.clone();
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use `clone_from()`: `audit_entry.resource_metrics.clone_from(&tool_context.resource_metrics)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#assigning_clones

warning: assigning the result of `Clone::clone()` may be inefficient
   --> llmspell-tools/src/lifecycle/hook_integration.rs:434:9
    |
434 |         audit_entry.resource_metrics = tool_context.resource_metrics.clone();
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use `clone_from()`: `audit_entry.resource_metrics.clone_from(&tool_context.resource_metrics)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#assigning_clones

warning: wildcard pattern covers any other pattern as it will match anyway
   --> llmspell-tools/src/lifecycle/state_machine.rs:261:13
    |
261 |             (Terminated, _) | _ => false,
    |             ^^^^^^^^^^^^^^^^^^^
    |
    = help: consider handling `_` separately
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_in_or_patterns

warning: called `map(<f>).unwrap_or_else(<g>)` on an `Option` value
   --> llmspell-tools/src/media/audio_processor.rs:555:37
    |
555 |                   let target_format = extract_optional_string(params, "target_format")
    |  _____________________________________^
556 | |                     .map(|s| match s.to_lowercase().as_str() {
557 | |                         "wav" => AudioFormat::Wav,
558 | |                         "mp3" => AudioFormat::Mp3,
559 | |                         _ => AudioFormat::Unknown,
560 | |                     })
561 | |                     .unwrap_or_else(|| AudioFormat::from_extension(Path::new(target_path)));
    | |___________________________________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#map_unwrap_or
    = note: `-W clippy::map-unwrap-or` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::map_unwrap_or)]`

warning: called `map(<f>).unwrap_or_else(<g>)` on an `Option` value
   --> llmspell-tools/src/media/image_processor.rs:549:37
    |
549 |                   let target_format = extract_optional_string(params, "target_format")
    |  _____________________________________^
550 | |                     .map(|s| match s.to_lowercase().as_str() {
551 | |                         "png" => ImageFormat::Png,
552 | |                         "jpeg" | "jpg" => ImageFormat::Jpeg,
...   |
556 | |                     })
557 | |                     .unwrap_or_else(|| ImageFormat::from_extension(Path::new(output_path)));
    | |___________________________________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#map_unwrap_or

warning: use Option::map_or instead of an if let/else
   --> llmspell-tools/src/search/web_search.rs:473:27
    |
473 |           let max_results = if let Some(n) = params
    |  ___________________________^
474 | |             .get("max_results")
475 | |             .and_then(serde_json::Value::as_u64)
...   |
479 | |             self.config.max_results
480 | |         };
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
    = note: `-W clippy::option-if-let-else` implied by `-W clippy::nursery`
    = help: to override `-W clippy::nursery` add `#[allow(clippy::option_if_let_else)]`
help: try
    |
473 ~         let max_results = params
474 +             .get("max_results")
475 ~             .and_then(serde_json::Value::as_u64).map_or(self.config.max_results, |n| usize::try_from(n).unwrap_or(usize::MAX));
    |

warning: use Option::map_or_else instead of an if let/else
   --> llmspell-tools/src/search/web_search.rs:507:29
    |
507 |           let provider_used = if let Some(r) = results.first() {
    |  _____________________________^
508 | |             r.provider.clone()
509 | |         } else {
510 | |             "unknown".to_string()
511 | |         };
    | |_________^ help: try: `results.first().map_or_else(|| "unknown".to_string(), |r| r.provider.clone())`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else

warning: this function's return value is unnecessary
   --> llmspell-tools/src/util/data_validation.rs:268:5
    |
268 | /     fn validate_value(
269 | |         &self,
270 | |         field: &str,
271 | |         value: &Value,
...   |
293 | |         Ok(())
294 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove the return type...
    |
274 -     ) -> Result<()> {
274 +     ) -> () {
    |
help: ...and then remove returned values
    |
293 -         Ok(())
    |

warning: the function has a cognitive complexity of (31/25)
   --> llmspell-tools/src/util/data_validation.rs:298:8
    |
298 |     fn validate_rule(
    |        ^^^^^^^^^^^^^
    |
    = help: you could split it up into multiple smaller functions
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cognitive_complexity
    = note: `-W clippy::cognitive-complexity` implied by `-W clippy::nursery`
    = help: to override `-W clippy::nursery` add `#[allow(clippy::cognitive_complexity)]`

warning: this looks like a formatting argument but it is not part of a formatting macro
   --> llmspell-tools/src/util/data_validation.rs:569:32
    |
569 |             |msg| msg.replace("{field}", field),
    |                                ^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#literal_string_with_formatting_args
    = note: `-W clippy::literal-string-with-formatting-args` implied by `-W clippy::nursery`
    = help: to override `-W clippy::nursery` add `#[allow(clippy::literal_string_with_formatting_args)]`

warning: this argument (1 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> llmspell-tools/src/util/uuid_generator.rs:140:47
    |
140 |     fn format_uuid(&self, uuid: Uuid, format: &UuidFormat) -> String {
    |                                               ^^^^^^^^^^^ help: consider passing by value instead: `UuidFormat`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#trivially_copy_pass_by_ref
    = note: `-W clippy::trivially-copy-pass-by-ref` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::trivially_copy_pass_by_ref)]`

warning: function call inside of `unwrap_or`
   --> llmspell-tools/src/web/api_tester.rs:212:44
    |
212 |                 "body": body_json.as_ref().unwrap_or(&json!(body_text)),
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `unwrap_or_else(|| &json!(body_text))`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#or_fun_call
    = note: `-W clippy::or-fun-call` implied by `-W clippy::nursery`
    = help: to override `-W clippy::nursery` add `#[allow(clippy::or_fun_call)]`

warning: this function's return value is unnecessarily wrapped by `Result`
   --> llmspell-tools/src/web/sitemap_crawler.rs:330:5
    |
330 | /     fn parse_sitemap(&self, xml_content: &str) -> Result<Vec<Value>> {
331 | |         let mut urls = Vec::new();
332 | |         let lines: Vec<&str> = xml_content.lines().collect();
...   |
405 | |         Ok(urls)
406 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
330 -     fn parse_sitemap(&self, xml_content: &str) -> Result<Vec<Value>> {
330 +     fn parse_sitemap(&self, xml_content: &str) -> std::vec::Vec<serde_json::Value> {
    |
help: ...and then change returning expressions
    |
405 -         Ok(urls)
405 +         urls
    |

warning: wildcard pattern covers any other pattern as it will match anyway
   --> llmspell-tools/src/web/webhook_caller.rs:171:17
    |
171 |                 "POST" | _ => client.post(url), // Default to POST for unknown methods
    |                 ^^^^^^^^^^
    |
    = help: consider handling `_` separately
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_in_or_patterns

warning: function call inside of `unwrap_or`
   --> llmspell-tools/src/web/webhook_caller.rs:228:56
    |
228 | ...                   "body": body_json.as_ref().unwrap_or(&json!(body_text)),
    |                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `unwrap_or_else(|| &json!(body_text))`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#or_fun_call

warning: `llmspell-tools` (lib) generated 18 warnings
    Checking llmspell-agents v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-agents)
warning: unnested or-patterns
   --> llmspell-agents/src/context/inheritance.rs:278:13
    |
278 |             Some(FieldTransform::Copy) | Some(FieldTransform::Custom(_)) | None => value.clone(),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnested_or_patterns
    = note: `-W clippy::unnested-or-patterns` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::unnested_or_patterns)]`
help: nest the patterns
    |
278 -             Some(FieldTransform::Copy) | Some(FieldTransform::Custom(_)) | None => value.clone(),
278 +             Some(FieldTransform::Copy | FieldTransform::Custom(_)) | None => value.clone(),
    |

warning: unnested or-patterns
   --> llmspell-agents/src/lifecycle/state_machine.rs:270:13
    |
270 | /             (Uninitialized, Initializing | Error)
271 | |             | (Initializing, Ready | Error | Terminating)
272 | |             | (Ready, Running | Paused | Terminating | Error)
273 | |             | (Running, Ready | Paused | Terminating | Error)
...   |
276 | |             | (Recovering, Ready | Error | Terminating)
277 | |             | (Terminating, Terminated | Error) => true,
    | |_______________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnested_or_patterns
help: nest the patterns
    |
270 ~             (Uninitialized, Initializing | Error) |
271 + (Initializing | Recovering, Ready | Error | Terminating) |
272 + (Ready, Running | Paused | Terminating | Error) |
273 + (Running, Ready | Paused | Terminating | Error) |
274 + (Paused, Ready | Running | Terminating | Error) |
275 + (Error, Recovering | Terminating | Terminated) |
276 ~ (Terminating, Terminated | Error) => true,
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/capabilities.rs:145:23
    |
145 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
    = note: `-W clippy::doc-markdown` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::doc_markdown)]`
help: try
    |
145 -     /// Panics if the RwLock is poisoned
145 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/capabilities.rs:191:23
    |
191 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
191 -     /// Panics if the RwLock is poisoned
191 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/capabilities.rs:215:23
    |
215 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
215 -     /// Panics if the RwLock is poisoned
215 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/capabilities.rs:225:23
    |
225 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
225 -     /// Panics if the RwLock is poisoned
225 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/capabilities.rs:236:23
    |
236 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
236 -     /// Panics if the RwLock is poisoned
236 +     /// Panics if the `RwLock` is poisoned
    |

warning: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> llmspell-agents/src/composition/capabilities.rs:248:22
    |
248 |         for entry in capabilities_vec.iter() {
    |                      ^^^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&capabilities_vec`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop
    = note: `-W clippy::explicit-iter-loop` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::explicit_iter_loop)]`

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/capabilities.rs:290:23
    |
290 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
290 -     /// Panics if the RwLock is poisoned
290 +     /// Panics if the `RwLock` is poisoned
    |

warning: this `map_or` can be simplified
   --> llmspell-agents/src/composition/capabilities.rs:302:12
    |
302 |           if requirement
    |  ____________^
303 | |             .category
304 | |             .as_ref()
305 | |             .map_or(false, |req_category| &capability.category != req_category)
    | |_______________________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_map_or
    = note: `-W clippy::unnecessary-map-or` implied by `-W clippy::all`
    = help: to override `-W clippy::all` add `#[allow(clippy::unnecessary_map_or)]`
help: use is_some_and instead
    |
305 -             .map_or(false, |req_category| &capability.category != req_category)
305 +             .is_some_and(|req_category| &capability.category != req_category)
    |

warning: this `map_or` can be simplified
   --> llmspell-agents/src/composition/capabilities.rs:312:16
    |
312 |               if capability
    |  ________________^
313 | |                 .version
314 | |                 .as_ref()
315 | |                 .map_or(true, |cap_version| cap_version < min_version)
    | |______________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_map_or
help: use is_none_or instead
    |
315 -                 .map_or(true, |cap_version| cap_version < min_version)
315 +                 .is_none_or(|cap_version| cap_version < min_version)
    |

warning: this `map_or` can be simplified
   --> llmspell-agents/src/composition/capabilities.rs:331:16
    |
331 |               if self
    |  ________________^
332 | |                 .capabilities
333 | |                 .read()
334 | |                 .unwrap()
335 | |                 .get(&cap_id)
336 | |                 .map_or(false, |entry| entry.score < min_score)
    | |_______________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_map_or
help: use is_some_and instead
    |
336 -                 .map_or(false, |entry| entry.score < min_score)
336 +                 .is_some_and(|entry| entry.score < min_score)
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/capabilities.rs:393:23
    |
393 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
393 -     /// Panics if the RwLock is poisoned
393 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/capabilities.rs:440:23
    |
440 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
440 -     /// Panics if the RwLock is poisoned
440 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/capabilities.rs:454:23
    |
454 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
454 -     /// Panics if the RwLock is poisoned
454 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/capabilities.rs:476:23
    |
476 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
476 -     /// Panics if the RwLock is poisoned
476 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/capabilities.rs:504:23
    |
504 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
504 -     /// Panics if the RwLock is poisoned
504 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/delegation.rs:301:21
    |
301 |     /// Panics if a RwLock is poisoned
    |                     ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
301 -     /// Panics if a RwLock is poisoned
301 +     /// Panics if a `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/delegation.rs:400:23
    |
400 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
400 -     /// Panics if the RwLock is poisoned
400 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/delegation.rs:409:23
    |
409 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
409 -     /// Panics if the RwLock is poisoned
409 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/hierarchical.rs:124:23
    |
124 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
124 -     /// Panics if the RwLock is poisoned
124 +     /// Panics if the `RwLock` is poisoned
    |

warning: this `map_or` can be simplified
   --> llmspell-agents/src/composition/hierarchical.rs:234:16
    |
234 |               if query
    |  ________________^
235 | |                 .text_search
236 | |                 .as_ref()
237 | |                 .map_or(false, |text| !name.contains(text))
    | |___________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_map_or
help: use is_some_and instead
    |
237 -                 .map_or(false, |text| !name.contains(text))
237 +                 .is_some_and(|text| !name.contains(text))
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/hierarchical.rs:577:32
    |
577 |     /// Panics if creating Arc<RwLock<_>> fails
    |                                ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
577 -     /// Panics if creating Arc<RwLock<_>> fails
577 +     /// Panics if creating Arc<`RwLock`<_>> fails
    |

warning: manual `Debug` impl does not include all fields
  --> llmspell-agents/src/composition/lifecycle.rs:59:1
   |
59 | / impl std::fmt::Debug for ComponentLifecycle {
60 | |     fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> std::fmt::Result {
61 | |         f.debug_struct("ComponentLifecycle")
62 | |             .field("id", &self.id)
...  |
69 | | }
   | |_^
   |
note: this field is unused
  --> llmspell-agents/src/composition/lifecycle.rs:48:5
   |
48 |     pub component: Arc<dyn BaseAgent>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   = help: consider including all fields in this `Debug` impl
   = help: consider calling `.finish_non_exhaustive()` if you intend to ignore fields
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_fields_in_debug
   = note: `-W clippy::missing-fields-in-debug` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::missing_fields_in_debug)]`

warning: wildcard pattern covers any other pattern as it will match anyway
   --> llmspell-agents/src/composition/lifecycle.rs:690:13
    |
690 |             "ready" | _ => LifecycleState::Ready,
    |             ^^^^^^^^^^^
    |
    = help: consider handling `_` separately
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_in_or_patterns
    = note: `-W clippy::wildcard-in-or-patterns` implied by `-W clippy::all`
    = help: to override `-W clippy::all` add `#[allow(clippy::wildcard_in_or_patterns)]`

warning: item in documentation is missing backticks
   --> llmspell-agents/src/composition/tool_composition.rs:319:21
    |
319 |     /// Panics if a RwLock is poisoned
    |                     ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
319 -     /// Panics if a RwLock is poisoned
319 +     /// Panics if a `RwLock` is poisoned
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> llmspell-agents/src/composition/tool_composition.rs:320:5
    |
320 | /     pub async fn execute<T>(
321 | |         &self,
322 | |         tool_provider: &T,
323 | |         initial_parameters: JsonValue,
...   |
326 | |     where
327 | |         T: ToolProvider,
    | |________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc
    = note: `-W clippy::missing-errors-doc` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::missing_errors_doc)]`

warning: future cannot be sent between threads safely
   --> llmspell-agents/src/composition/tool_composition.rs:320:5
    |
320 | /     pub async fn execute<T>(
321 | |         &self,
322 | |         tool_provider: &T,
323 | |         initial_parameters: JsonValue,
...   |
326 | |     where
327 | |         T: ToolProvider,
    | |________________________^ future returned by `execute` is not `Send`
    |
note: future is not `Send` as this value is used across an await
   --> llmspell-agents/src/composition/tool_composition.rs:362:22
    |
322 |         tool_provider: &T,
    |         ------------- has type `&T` which is not `Send`
...
362 |                     .await
    |                      ^^^^^ await occurs here, with `tool_provider` maybe used later
    = note: `T` doesn't implement `std::marker::Sync`
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#future_not_send
    = note: `-W clippy::future-not-send` implied by `-W clippy::nursery`
    = help: to override `-W clippy::nursery` add `#[allow(clippy::future_not_send)]`

warning: this `map_or` can be simplified
   --> llmspell-agents/src/composition/tool_composition.rs:388:28
    |
388 |                           if step.retry_config.as_ref().map_or(false, |retry_config| {
    |  ____________________________^
389 | |                             retry_attempts < retry_config.max_attempts
390 | |                         }) {
    | |__________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_map_or
help: use is_some_and instead
    |
388 -                         if step.retry_config.as_ref().map_or(false, |retry_config| {
388 +                         if step.retry_config.as_ref().is_some_and(|retry_config| {
    |

warning: parameter is only used in recursion
   --> llmspell-agents/src/composition/tool_composition.rs:529:10
    |
529 |         &self,
    |          ^^^^
    |
note: parameter used here
   --> llmspell-agents/src/composition/tool_composition.rs:555:36
    |
555 |                 let source_value = self.resolve_data_flow(source, context)?;
    |                                    ^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#only_used_in_recursion
    = note: `-W clippy::only-used-in-recursion` implied by `-W clippy::all`
    = help: to override `-W clippy::all` add `#[allow(clippy::only_used_in_recursion)]`

warning: future cannot be sent between threads safely
   --> llmspell-agents/src/composition/tool_composition.rs:608:5
    |
608 | /     async fn execute_step<T>(
609 | |         &self,
610 | |         tool_provider: &T,
611 | |         step: &CompositionStep,
...   |
615 | |     where
616 | |         T: ToolProvider,
    | |________________________^ future returned by `execute_step` is not `Send`
    |
note: captured value is not `Send` because `&` references cannot be sent unless their referent is `Sync`
   --> llmspell-agents/src/composition/tool_composition.rs:610:9
    |
610 |         tool_provider: &T,
    |         ^^^^^^^^^^^^^ has type `&T` which is not `Send`, because `T` is not `Sync`
    = note: `T` doesn't implement `std::marker::Sync`
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#future_not_send

warning: docs for function returning `Result` missing `# Errors` section
   --> llmspell-agents/src/context/event_integration.rs:250:5
    |
250 | /     pub async fn subscribe(
251 | |         &self,
252 | |         context_scope: ContextScope,
253 | |         event_types: Vec<String>,
254 | |         handler: Arc<dyn EventHandler>,
255 | |     ) -> Result<String> {
    | |_______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc

warning: item in documentation is missing backticks
  --> llmspell-agents/src/context/hierarchy.rs:71:21
   |
71 |     /// Panics if a RwLock is poisoned
   |                     ^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
71 -     /// Panics if a RwLock is poisoned
71 +     /// Panics if a `RwLock` is poisoned
   |

warning: item in documentation is missing backticks
  --> llmspell-agents/src/context/hierarchy.rs:98:21
   |
98 |     /// Panics if a RwLock is poisoned
   |                     ^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
98 -     /// Panics if a RwLock is poisoned
98 +     /// Panics if a `RwLock` is poisoned
   |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/hierarchy.rs:146:21
    |
146 |     /// Panics if a RwLock is poisoned
    |                     ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
146 -     /// Panics if a RwLock is poisoned
146 +     /// Panics if a `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/hierarchy.rs:170:21
    |
170 |     /// Panics if a RwLock is poisoned
    |                     ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
170 -     /// Panics if a RwLock is poisoned
170 +     /// Panics if a `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/hierarchy.rs:208:21
    |
208 |     /// Panics if a RwLock is poisoned
    |                     ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
208 -     /// Panics if a RwLock is poisoned
208 +     /// Panics if a `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/hierarchy.rs:227:21
    |
227 |     /// Panics if a RwLock is poisoned
    |                     ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
227 -     /// Panics if a RwLock is poisoned
227 +     /// Panics if a `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/hierarchy.rs:259:21
    |
259 |     /// Panics if a RwLock is poisoned
    |                     ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
259 -     /// Panics if a RwLock is poisoned
259 +     /// Panics if a `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/hierarchy.rs:276:21
    |
276 |     /// Panics if a RwLock is poisoned
    |                     ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
276 -     /// Panics if a RwLock is poisoned
276 +     /// Panics if a `RwLock` is poisoned
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> llmspell-agents/src/context/inheritance.rs:152:5
    |
152 | /     pub fn apply(
153 | |         &self,
154 | |         parent_ctx: &ExecutionContext,
155 | |         child_ctx: &mut ExecutionContext,
156 | |     ) -> Result<(), String> {
    | |___________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc

warning: this argument (1 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> llmspell-agents/src/context/inheritance.rs:240:72
    |
240 |     fn should_inherit_field(&self, field: &str, value: &Value, policy: &InheritancePolicy) -> bool {
    |                                                                        ^^^^^^^^^^^^^^^^^^ help: consider passing by value instead: `InheritancePolicy`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#trivially_copy_pass_by_ref
    = note: `-W clippy::trivially-copy-pass-by-ref` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::trivially_copy_pass_by_ref)]`

warning: this `map_or` can be simplified
   --> llmspell-agents/src/context/inheritance.rs:357:13
    |
357 | /             value.as_str().map_or(false, |level| {
358 | |                 ["low", "medium", "high", "critical"].contains(&level)
359 | |             })
    | |______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_map_or
help: use is_some_and instead
    |
357 -             value.as_str().map_or(false, |level| {
357 +             value.as_str().is_some_and(|level| {
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/shared_memory.rs:125:23
    |
125 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
125 -     /// Panics if the RwLock is poisoned
125 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/shared_memory.rs:135:23
    |
135 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
135 -     /// Panics if the RwLock is poisoned
135 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/shared_memory.rs:145:23
    |
145 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
145 -     /// Panics if the RwLock is poisoned
145 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/shared_memory.rs:165:23
    |
165 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
165 -     /// Panics if the RwLock is poisoned
165 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/shared_memory.rs:190:23
    |
190 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
190 -     /// Panics if the RwLock is poisoned
190 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/shared_memory.rs:233:23
    |
233 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
233 -     /// Panics if the RwLock is poisoned
233 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/shared_memory.rs:278:23
    |
278 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
278 -     /// Panics if the RwLock is poisoned
278 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/shared_memory.rs:302:23
    |
302 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
302 -     /// Panics if the RwLock is poisoned
302 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/shared_memory.rs:408:23
    |
408 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
408 -     /// Panics if the RwLock is poisoned
408 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/shared_memory.rs:439:23
    |
439 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
439 -     /// Panics if the RwLock is poisoned
439 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/shared_memory.rs:456:23
    |
456 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
456 -     /// Panics if the RwLock is poisoned
456 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/shared_memory.rs:482:23
    |
482 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
482 -     /// Panics if the RwLock is poisoned
482 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/shared_memory.rs:497:23
    |
497 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
497 -     /// Panics if the RwLock is poisoned
497 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/context/shared_memory.rs:516:23
    |
516 |     /// Panics if the RwLock is poisoned or if duration conversion fails
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
516 -     /// Panics if the RwLock is poisoned or if duration conversion fails
516 +     /// Panics if the `RwLock` is poisoned or if duration conversion fails
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/di.rs:197:23
    |
197 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
197 -     /// Panics if the RwLock is poisoned
197 +     /// Panics if the `RwLock` is poisoned
    |

warning: this function's return value is unnecessary
   --> llmspell-agents/src/factory.rs:389:5
    |
389 | /     fn initialize_agent_lifecycle(agent_type: &str, agent_name: &str) -> Result<()> {
390 | |         info!(
391 | |             "Agent '{}' of type '{}' created with lifecycle management",
392 | |             agent_name, agent_type
...   |
397 | |         Ok(())
398 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
    = note: `-W clippy::unnecessary-wraps` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::unnecessary_wraps)]`
help: remove the return type...
    |
389 -     fn initialize_agent_lifecycle(agent_type: &str, agent_name: &str) -> Result<()> {
389 +     fn initialize_agent_lifecycle(agent_type: &str, agent_name: &str) -> () {
    |
help: ...and then remove returned values
    |
397 -         Ok(())
    |

warning: more than 3 bools in a struct
  --> llmspell-agents/src/hooks/state_persistence_hook.rs:22:1
   |
22 | / pub struct PersistenceConfig {
23 | |     /// Interval for automatic saves (None disables auto-save)
24 | |     pub auto_save_interval: Option<Duration>,
25 | |     /// Maximum number of retry attempts
...  |
38 | |     pub non_blocking: bool,
39 | | }
   | |_^
   |
   = help: consider using a state machine or refactoring bools into two-variant enums
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#struct_excessive_bools
   = note: `-W clippy::struct-excessive-bools` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::struct_excessive_bools)]`

warning: this `map_or` can be simplified
   --> llmspell-agents/src/hooks/state_persistence_hook.rs:148:43
    |
148 |                           let should_save = last_saves.get(agent_id).map_or(
    |  ___________________________________________^
149 | |                             true, // Never saved
150 | |                             |last_save| {
151 | |                                 now.duration_since(*last_save)
...   |
154 | |                             },
155 | |                         );
    | |_________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_map_or
help: use is_none_or instead
    |
148 ~                         let should_save = last_saves.get(agent_id).is_none_or(
149 ~                             |last_save| {
    |

warning: this function's return value is unnecessary
   --> llmspell-agents/src/hooks/state_persistence_hook.rs:260:5
    |
260 | /     fn try_save_state(_agent: &AgentRef, agent_id: &str) -> Result<()> {
...   |
271 | |         Ok(())
272 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove the return type...
    |
260 -     fn try_save_state(_agent: &AgentRef, agent_id: &str) -> Result<()> {
260 +     fn try_save_state(_agent: &AgentRef, agent_id: &str) -> () {
    |
help: ...and then remove returned values
    |
271 -         Ok(())
    |

warning: using `clone` on type `LifecycleEventType` which implements the `Copy` trait
   --> llmspell-agents/src/lifecycle/events.rs:388:24
    |
388 |                 .entry(event.event_type.clone())
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^ help: try removing the `clone` call: `event.event_type`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#clone_on_copy
    = note: `-W clippy::clone-on-copy` implied by `-W clippy::all`
    = help: to override `-W clippy::all` add `#[allow(clippy::clone_on_copy)]`

warning: first doc comment paragraph is too long
 --> llmspell-agents/src/lifecycle/middleware.rs:1:1
  |
1 | / //! ABOUTME: Lifecycle middleware system for intercepting and augmenting agent lifecycle transitions
2 | | //! ABOUTME: Provides composable middleware chain for logging, metrics, security, and custom lifecycle behavior
  | |_^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_long_first_doc_paragraph
  = note: `-W clippy::too-long-first-doc-paragraph` implied by `-W clippy::nursery`
  = help: to override `-W clippy::nursery` add `#[allow(clippy::too_long_first_doc_paragraph)]`

warning: more than 3 bools in a struct
   --> llmspell-agents/src/lifecycle/middleware.rs:192:1
    |
192 | / pub struct MiddlewareConfig {
193 | |     /// Enable middleware execution
194 | |     pub enabled: bool,
195 | |     /// Maximum execution time per middleware
...   |
204 | |     pub emit_events: bool,
205 | | }
    | |_^
    |
    = help: consider using a state machine or refactoring bools into two-variant enums
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#struct_excessive_bools

warning: docs for function which may panic missing `# Panics` section
   --> llmspell-agents/src/lifecycle/shutdown.rs:215:5
    |
215 |     pub async fn add_hook(&self, hook: Arc<dyn ShutdownHook>) {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> llmspell-agents/src/lifecycle/shutdown.rs:225:17
    |
225 |                 hooks.last().unwrap().priority()
    |                 ^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_panics_doc
    = note: `-W clippy::missing-panics-doc` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::missing_panics_doc)]`

warning: function call inside of `unwrap_or`
   --> llmspell-agents/src/lifecycle/shutdown.rs:372:30
    |
372 | ...                   .unwrap_or(&"Unknown error".to_string())
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `unwrap_or_else(|| &"Unknown error".to_string())`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#or_fun_call
    = note: `-W clippy::or-fun-call` implied by `-W clippy::nursery`
    = help: to override `-W clippy::nursery` add `#[allow(clippy::or_fun_call)]`

warning: function call inside of `unwrap_or`
   --> llmspell-agents/src/lifecycle/shutdown.rs:408:26
    |
408 |                         .unwrap_or(&"Unknown error".to_string())
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `unwrap_or_else(|| &"Unknown error".to_string())`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#or_fun_call

warning: function call inside of `unwrap_or`
   --> llmspell-agents/src/lifecycle/shutdown.rs:712:22
    |
712 |                     .unwrap_or(&"Unknown error".to_string())
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `unwrap_or_else(|| &"Unknown error".to_string())`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#or_fun_call

warning: more than 3 bools in a struct
   --> llmspell-agents/src/lifecycle/state_machine.rs:113:1
    |
113 | / pub struct StateMachineConfig {
114 | |     /// Maximum time allowed for state transitions
115 | |     pub max_transition_time: Duration,
116 | |     /// Enable automatic recovery from error states
...   |
135 | |     pub circuit_breaker_config: BreakerConfig,
136 | | }
    | |_^
    |
    = help: consider using a state machine or refactoring bools into two-variant enums
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#struct_excessive_bools

warning: wildcard pattern covers any other pattern as it will match anyway
   --> llmspell-agents/src/lifecycle/state_machine.rs:280:13
    |
280 |             (Terminated, _) | _ => false,
    |             ^^^^^^^^^^^^^^^^^^^
    |
    = help: consider handling `_` separately
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_in_or_patterns

warning: this could be rewritten as `let...else`
   --> llmspell-agents/src/lifecycle/state_machine.rs:427:9
    |
427 | /         let (hook_executor, hook_registry) = match (&self.hook_executor, &self.hook_registry) {
428 | |             (Some(executor), Some(registry)) => (executor, registry),
429 | |             _ => return Ok(()), // No hooks configured
430 | |         };
    | |__________^ help: consider writing: `let (Some(hook_executor), Some(hook_registry)) = (&self.hook_executor, &self.hook_registry) else { return Ok(()) };`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_let_else
    = note: `-W clippy::manual-let-else` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::manual_let_else)]`

warning: this `map_or` can be simplified
   --> llmspell-agents/src/lifecycle/state_machine.rs:541:9
    |
541 | /         tokens.get(&transition_id).map_or(false, |token| {
542 | |             token.cancel();
543 | |             true
544 | |         })
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_map_or
help: use is_some_and instead
    |
541 -         tokens.get(&transition_id).map_or(false, |token| {
541 +         tokens.get(&transition_id).is_some_and(|token| {
    |

warning: unused "map closure" when calling `Result::map_or_else` value
   --> llmspell-agents/src/lifecycle/state_machine.rs:812:9
    |
812 | /         timeout_result.map_or_else(
813 | |             |_| {
814 | |                 Err(anyhow!(
815 | |                     "State transition timed out after {:?}",
...   |
819 | |             |result| result,
820 | |         )
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_result_map_or_else
    = note: `-W clippy::unnecessary-result-map-or-else` implied by `-W clippy::all`
    = help: to override `-W clippy::all` add `#[allow(clippy::unnecessary_result_map_or_else)]`
help: consider using `unwrap_or_else`
    |
812 ~         timeout_result.unwrap_or_else(|_| {
813 +                 Err(anyhow!(
814 +                     "State transition timed out after {:?}",
815 +                     self.config.max_transition_time
816 +                 ))
817 +             })
    |

warning: this method could have a `#[must_use]` attribute
    --> llmspell-agents/src/lifecycle/state_machine.rs:1058:5
     |
1058 |     pub fn get_hook_metrics(&self, hook_name: &str) -> Option<llmspell_hooks::PerformanceMetrics> {
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add the attribute: `#[must_use] pub fn get_hook_metrics(&self, hook_name: &str) -> Option<llmspell_hooks::PerformanceMetrics>`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate
     = note: `-W clippy::must-use-candidate` implied by `-W clippy::pedantic`
     = help: to override `-W clippy::pedantic` add `#[allow(clippy::must_use_candidate)]`

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/alerts.rs:336:32
    |
336 |     /// Panics if creating Arc<RwLock<_>> fails (should never happen)
    |                                ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
336 -     /// Panics if creating Arc<RwLock<_>> fails (should never happen)
336 +     /// Panics if creating Arc<`RwLock`<_>> fails (should never happen)
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/alerts.rs:353:23
    |
353 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
353 -     /// Panics if the RwLock is poisoned
353 +     /// Panics if the `RwLock` is poisoned
    |

warning: docs for function which may panic missing `# Panics` section
   --> llmspell-agents/src/monitoring/alerts.rs:359:5
    |
359 |     pub fn register_channel(&self, name: String, channel: Arc<dyn NotificationChannel>) {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> llmspell-agents/src/monitoring/alerts.rs:360:9
    |
360 |         self.channels.write().unwrap().insert(name, channel);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_panics_doc

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/alerts.rs:374:21
    |
374 |     /// Panics if a RwLock is poisoned
    |                     ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
374 -     /// Panics if a RwLock is poisoned
374 +     /// Panics if a `RwLock` is poisoned
    |

warning: this `map_or` can be simplified
   --> llmspell-agents/src/monitoring/alerts.rs:394:22
    |
394 |                   } => context
    |  ______________________^
395 | |                     .metrics
396 | |                     .get(metric_name)
397 | |                     .map_or(false, |metric| match metric {
...   |
404 | |                         _ => false,
405 | |                     }),
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_map_or
help: use is_some_and instead
    |
397 -                     .map_or(false, |metric| match metric {
397 +                     .is_some_and(|metric| match metric {
    |

warning: this `map_or` can be simplified
   --> llmspell-agents/src/monitoring/alerts.rs:446:9
    |
446 | /         last_triggers.get(rule_id).map_or(false, |last_trigger| {
447 | |             let elapsed = (Utc::now() - *last_trigger).to_std().unwrap_or_default();
448 | |             elapsed < self.config.default_cooldown
449 | |         })
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_map_or
help: use is_some_and instead
    |
446 -         last_triggers.get(rule_id).map_or(false, |last_trigger| {
446 +         last_triggers.get(rule_id).is_some_and(|last_trigger| {
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/alerts.rs:524:23
    |
524 |     /// Panics if the RwLock is poisoned or if Duration conversion fails
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
524 -     /// Panics if the RwLock is poisoned or if Duration conversion fails
524 +     /// Panics if the `RwLock` is poisoned or if Duration conversion fails
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/alerts.rs:541:23
    |
541 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
541 -     /// Panics if the RwLock is poisoned
541 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/alerts.rs:560:23
    |
560 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
560 -     /// Panics if the RwLock is poisoned
560 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/alerts.rs:588:23
    |
588 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
588 -     /// Panics if the RwLock is poisoned
588 +     /// Panics if the `RwLock` is poisoned
    |

warning: docs for function which may panic missing `# Panics` section
   --> llmspell-agents/src/monitoring/alerts.rs:611:5
    |
611 |     pub fn get_statistics(&self) -> AlertStatistics {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> llmspell-agents/src/monitoring/alerts.rs:612:22
    |
612 |         let active = self.active_alerts.read().unwrap();
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_panics_doc

warning: manual `Debug` impl does not include all fields
   --> llmspell-agents/src/monitoring/events.rs:175:1
    |
175 | / impl std::fmt::Debug for EventLogger {
176 | |     /// # Panics
177 | |     ///
178 | |     /// Panics if the RwLock is poisoned
...   |
188 | | }
    | |_^
    |
note: this field is unused
   --> llmspell-agents/src/monitoring/events.rs:166:5
    |
166 |     buffer: Arc<RwLock<VecDeque<LogEvent>>>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: consider including all fields in this `Debug` impl
    = help: consider calling `.finish_non_exhaustive()` if you intend to ignore fields
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_fields_in_debug

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/events.rs:178:23
    |
178 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
178 -     /// Panics if the RwLock is poisoned
178 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/events.rs:208:23
    |
208 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
208 -     /// Panics if the RwLock is poisoned
208 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/events.rs:217:23
    |
217 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
217 -     /// Panics if the RwLock is poisoned
217 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/events.rs:240:23
    |
240 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
240 -     /// Panics if the RwLock is poisoned
240 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/events.rs:373:23
    |
373 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
373 -     /// Panics if the RwLock is poisoned
373 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/events.rs:383:23
    |
383 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
383 -     /// Panics if the RwLock is poisoned
383 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/events.rs:397:23
    |
397 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
397 -     /// Panics if the RwLock is poisoned
397 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/events.rs:411:23
    |
411 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
411 -     /// Panics if the RwLock is poisoned
411 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/events.rs:420:23
    |
420 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
420 -     /// Panics if the RwLock is poisoned
420 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/metrics.rs:422:23
    |
422 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
422 -     /// Panics if the RwLock is poisoned
422 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/metrics.rs:433:23
    |
433 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
433 -     /// Panics if the RwLock is poisoned
433 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/metrics.rs:443:23
    |
443 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
443 -     /// Panics if the RwLock is poisoned
443 +     /// Panics if the `RwLock` is poisoned
    |

warning: docs for function which may panic missing `# Panics` section
   --> llmspell-agents/src/monitoring/performance.rs:100:5
    |
100 |     pub fn from_snapshots(snapshots: &[PerformanceSnapshot]) -> Self {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> llmspell-agents/src/monitoring/performance.rs:105:26
    |
105 |         let start_time = snapshots.first().unwrap().timestamp;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_panics_doc

warning: casting `f64` to `usize` may lose the sign of the value
   --> llmspell-agents/src/monitoring/performance.rs:346:31
    |
346 |         let active_requests = self.metrics.requests_active.get() as usize;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss
    = note: `-W clippy::cast-sign-loss` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::cast_sign_loss)]`

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/performance.rs:387:23
    |
387 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
387 -     /// Panics if the RwLock is poisoned
387 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/performance.rs:403:23
    |
403 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
403 -     /// Panics if the RwLock is poisoned
403 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
  --> llmspell-agents/src/monitoring/tracing.rs:96:23
   |
96 |     /// Panics if the end_time calculation results in a negative duration
   |                       ^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
96 -     /// Panics if the end_time calculation results in a negative duration
96 +     /// Panics if the `end_time` calculation results in a negative duration
   |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/tracing.rs:214:23
    |
214 |     /// Panics if any RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
214 -     /// Panics if any RwLock is poisoned
214 +     /// Panics if any `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/tracing.rs:252:23
    |
252 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
252 -     /// Panics if the RwLock is poisoned
252 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/tracing.rs:271:23
    |
271 |     /// Panics if any RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
271 -     /// Panics if any RwLock is poisoned
271 +     /// Panics if any `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/tracing.rs:298:23
    |
298 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
298 -     /// Panics if the RwLock is poisoned
298 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/tracing.rs:308:23
    |
308 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
308 -     /// Panics if the RwLock is poisoned
308 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/tracing.rs:324:23
    |
324 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
324 -     /// Panics if the RwLock is poisoned
324 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/tracing.rs:342:23
    |
342 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
342 -     /// Panics if the RwLock is poisoned
342 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/tracing.rs:359:23
    |
359 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
359 -     /// Panics if the RwLock is poisoned
359 +     /// Panics if the `RwLock` is poisoned
    |

warning: item in documentation is missing backticks
   --> llmspell-agents/src/monitoring/tracing.rs:376:23
    |
376 |     /// Panics if the RwLock is poisoned
    |                       ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
376 -     /// Panics if the RwLock is poisoned
376 +     /// Panics if the `RwLock` is poisoned
    |

warning: this could be rewritten as `let...else`
   --> llmspell-agents/src/registry/discovery.rs:218:9
    |
218 | /         let reference = match self.registry.get_metadata(agent_id).await? {
219 | |             Some(metadata) => metadata,
220 | |             None => anyhow::bail!("Agent '{}' not found", agent_id),
221 | |         };
    | |__________^ help: consider writing: `let Some(reference) = self.registry.get_metadata(agent_id).await? else { anyhow::bail!("Agent '{}' not found", agent_id) };`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_let_else

warning: item in documentation is missing backticks
   --> llmspell-agents/src/registry/discovery.rs:249:19
    |
249 |     /// Panics if DateTime conversion fails
    |                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
249 -     /// Panics if DateTime conversion fails
249 +     /// Panics if `DateTime` conversion fails
    |

warning: it is more idiomatic to use `Option<&T>` instead of `&Option<T>`
   --> llmspell-agents/src/registry/discovery.rs:318:5
    |
318 |       fn sort_results(results: &mut [SearchResult], sort_by: &Option<SortField>, order: &SortOrder) {
    |       ^                                                      ------------------ help: change this to: `Option<&SortField>`
    |  _____|
    | |
319 | |         let field = sort_by.as_ref().unwrap_or(&SortField::Name);
320 | |
321 | |         results.sort_by(|a, b| {
...   |
349 | |         });
350 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#ref_option
    = note: `-W clippy::ref-option` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::ref_option)]`

warning: this `map_or` can be simplified
   --> llmspell-agents/src/state/isolation.rs:134:9
    |
134 | /         scope.parent().map_or(false, |parent| {
135 | |             self.has_permission(agent_id, &parent, permission)
136 | |         })
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_map_or
help: use is_some_and instead
    |
134 -         scope.parent().map_or(false, |parent| {
134 +         scope.parent().is_some_and(|parent| {
    |

warning: using `clone` on type `StatePermission` which implements the `Copy` trait
   --> llmspell-agents/src/state/isolation.rs:309:25
    |
309 |                         permission.clone(),
    |                         ^^^^^^^^^^^^^^^^^^ help: try dereferencing it: `*permission`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#clone_on_copy

warning: using `clone` on type `StatePermission` which implements the `Copy` trait
   --> llmspell-agents/src/state/isolation.rs:358:66
    |
358 |         access_control.grant_permission(agent_id, scope.clone(), permission.clone());
    |                                                                  ^^^^^^^^^^^^^^^^^^ help: try removing the `clone` call: `permission`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#clone_on_copy

warning: this `map_or` can be simplified
   --> llmspell-agents/src/state/sharing.rs:335:25
    |
335 |                         since.map_or(true, |since_time| m.timestamp > since_time)
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_map_or
help: use is_none_or instead
    |
335 -                         since.map_or(true, |since_time| m.timestamp > since_time)
335 +                         since.is_none_or(|since_time| m.timestamp > since_time)
    |

warning: the borrowed expression implements the required traits
   --> llmspell-agents/src/state/sharing.rs:439:38
    |
439 |                 serde_json::to_value(&stages)?,
    |                                      ^^^^^^^ help: change this to: `stages`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_borrows_for_generic_args
    = note: `-W clippy::needless-borrows-for-generic-args` implied by `-W clippy::all`
    = help: to override `-W clippy::all` add `#[allow(clippy::needless_borrows_for_generic_args)]`

warning: this argument (1 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> llmspell-agents/src/state/sharing.rs:550:18
    |
550 |         pattern: &SharingPattern,
    |                  ^^^^^^^^^^^^^^^ help: consider passing by value instead: `SharingPattern`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#trivially_copy_pass_by_ref

warning: wildcard pattern covers any other pattern as it will match anyway
   --> llmspell-agents/src/state/sharing.rs:561:13
    |
561 |             SharingPattern::Pipeline | _ => {
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: consider handling `_` separately
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_in_or_patterns

warning: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> llmspell-agents/src/state/sharing.rs:554:9
    |
554 | /         match pattern {
555 | |             SharingPattern::Broadcast => {
556 | |                 // Only creator can broadcast
557 | |                 if agent_id != channel.creator_agent_id {
...   |
565 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
    = note: `-W clippy::single-match-else` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::single_match_else)]`
help: try
    |
554 ~         if pattern == &SharingPattern::Broadcast {
555 +             // Only creator can broadcast
556 +             if agent_id != channel.creator_agent_id {
557 +                 return Err(anyhow::anyhow!("Only channel creator can broadcast"));
558 +             }
559 +         } else {
560 +             // Pipeline: Agents can only publish when it's their turn (enforced by process_pipeline_stage)
561 +             // Other patterns: Allow any participant to publish
562 +         }
    |

warning: first doc comment paragraph is too long
 --> llmspell-agents/src/templates/mod.rs:7:1
  |
2 | | //! ABOUTME: Provides schema, base traits, implementations, customization, and validation for agent templates
  | |_^
...
7 | / /// Base template trait and factory
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_long_first_doc_paragraph

warning: first doc comment paragraph is too long
 --> llmspell-agents/src/templates/mod.rs:13:1
  |
2 | | //! ABOUTME: Provides schema, base traits, implementations, customization, and validation for agent templates
  | |_^
...
13| / /// Orchestrator agent template  
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_long_first_doc_paragraph

warning: first doc comment paragraph is too long
 --> llmspell-agents/src/templates/mod.rs:16:1
  |
2 | | //! ABOUTME: Provides schema, base traits, implementations, customization, and validation for agent templates
  | |_^
...
16| / /// Monitor agent template
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_long_first_doc_paragraph

warning: more than 3 bools in a struct
   --> llmspell-agents/src/templates/monitor_agent.rs:78:1
    |
78  | / pub struct MonitorAgentConfig {
79  | |     /// Monitoring scopes this agent covers
80  | |     pub monitoring_scopes: Vec<MonitoringScope>,
81  | |     /// Monitoring interval in seconds
...   |
104 | |     pub max_concurrent_tasks: usize,
105 | | }
    | |_^
    |
    = help: consider using a state machine or refactoring bools into two-variant enums
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#struct_excessive_bools

warning: first doc comment paragraph is too long
 --> llmspell-agents/src/templates/mod.rs:19:1
  |
2 | | //! ABOUTME: Provides schema, base traits, implementations, customization, and validation for agent templates
  | |_^
...
19| / /// Template customization API
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_long_first_doc_paragraph

warning: first doc comment paragraph is too long
 --> llmspell-agents/src/templates/mod.rs:22:1
  |
2 | | //! ABOUTME: Provides schema, base traits, implementations, customization, and validation for agent templates
  | |_^
...
22| / /// Template validation utilities
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_long_first_doc_paragraph

warning: unused `self` argument
   --> llmspell-agents/src/templates/validation.rs:336:9
    |
336 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unused_self
    = note: `-W clippy::unused-self` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::unused_self)]`

warning: use Option::map_or_else instead of an if let/else
   --> llmspell-agents/src/templates/validation.rs:462:30
    |
462 |                   let length = if let Some(s) = value.as_str() {
    |  ______________________________^
463 | |                     s.len()
464 | |                 } else if let Some(arr) = value.as_array() {
465 | |                     arr.len()
466 | |                 } else {
467 | |                     0
468 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
    = note: `-W clippy::option-if-let-else` implied by `-W clippy::nursery`
    = help: to override `-W clippy::nursery` add `#[allow(clippy::option_if_let_else)]`
help: try
    |
462 ~                 let length = value.as_str().map_or_else(|| if let Some(arr) = value.as_array() {
463 +                     arr.len()
464 +                 } else {
465 +                     0
466 ~                 }, |s| s.len());
    |

warning: use Option::map_or_else instead of an if let/else
   --> llmspell-agents/src/templates/validation.rs:478:30
    |
478 |                   let length = if let Some(s) = value.as_str() {
    |  ______________________________^
479 | |                     s.len()
480 | |                 } else if let Some(arr) = value.as_array() {
481 | |                     arr.len()
482 | |                 } else {
483 | |                     0
484 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
    |
478 ~                 let length = value.as_str().map_or_else(|| if let Some(arr) = value.as_array() {
479 +                     arr.len()
480 +                 } else {
481 +                     0
482 ~                 }, |s| s.len());
    |

warning: docs for function which may panic missing `# Panics` section
  --> llmspell-agents/src/templates/mod.rs:51:1
   |
51 | pub fn create_builtin_templates() -> TemplateFactory {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
note: first possible panic found here
  --> llmspell-agents/src/templates/mod.rs:55:5
   |
55 | /     factory
56 | |         .register_template(Box::new(ToolAgentTemplate::new()))
57 | |         .unwrap();
   | |_________________^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_panics_doc

warning: this could be a `const fn`
   --> llmspell-agents/src/tool_context.rs:151:5
    |
151 | /     pub fn context_id(&self) -> &str {
152 | |         &self.context_id
153 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
    = note: `-W clippy::missing-const-for-fn` implied by `-W clippy::nursery`
    = help: to override `-W clippy::nursery` add `#[allow(clippy::missing_const_for_fn)]`
help: make the function `const`
    |
151 |     pub const fn context_id(&self) -> &str {
    |         +++++

warning: casting `u128` to `u64` may truncate the value
   --> llmspell-agents/src/tool_errors.rs:333:35
    |
333 |                 duration_ms: Some(duration.as_millis() as u64),
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
    = note: `-W clippy::cast-possible-truncation` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::cast_possible_truncation)]`
help: ... or use `try_from` and handle the error accordingly
    |
333 -                 duration_ms: Some(duration.as_millis() as u64),
333 +                 duration_ms: Some(u64::try_from(duration.as_millis())),
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> llmspell-agents/src/tool_errors.rs:579:5
    |
579 | /     pub async fn handle_error(
580 | |         &self,
581 | |         error: ToolIntegrationError,
582 | |         context: &mut ErrorContext,
583 | |     ) -> Result<Option<JsonValue>> {
    | |__________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc

warning: more than 3 bools in a struct
  --> llmspell-agents/src/tool_invocation.rs:47:1
   |
47 | / pub struct InvocationConfig {
48 | |     /// Maximum execution time per tool call
49 | |     pub max_execution_time: Duration,
50 | |     /// Whether to validate parameters before invocation
...  |
61 | |     pub custom_validators: Vec<String>,
62 | | }
   | |_^
   |
   = help: consider using a state machine or refactoring bools into two-variant enums
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#struct_excessive_bools

warning: this could be rewritten as `let...else`
   --> llmspell-agents/src/tool_manager.rs:294:9
    |
294 | /         let registry_info = match self.registry.get_tool_info(tool_name).await {
295 | |             Some(info) => info,
296 | |             None => return Ok(None),
297 | |         };
    | |__________^ help: consider writing: `let Some(registry_info) = self.registry.get_tool_info(tool_name).await else { return Ok(None) };`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_let_else

warning: item in documentation is missing backticks
   --> llmspell-agents/src/tool_manager.rs:317:31
    |
317 |     /// - Any step fails with ErrorStrategy::Fail
    |                               ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
317 -     /// - Any step fails with ErrorStrategy::Fail
317 +     /// - Any step fails with `ErrorStrategy::Fail`
    |

warning: used underscore-prefixed binding
   --> llmspell-agents/src/tool_manager.rs:371:56
    |
371 | ...                   return Err(_last_error);
    |                                  ^^^^^^^^^^^
    |
note: binding is defined here
   --> llmspell-agents/src/tool_manager.rs:350:33
    |
350 | ...                   let mut _last_error = error;
    |                           ^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#used_underscore_binding
    = note: `-W clippy::used-underscore-binding` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::used_underscore_binding)]`

warning: use Option::map_or_else instead of an if let/else
   --> llmspell-agents/src/tool_manager.rs:386:9
    |
386 | /         if let Some(final_output) = results.last() {
387 | |             Ok(final_output.clone())
388 | |         } else {
389 | |             Ok(AgentOutput::text(
390 | |                 "Composition completed with no output".to_string(),
391 | |             ))
392 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
    |
386 ~         results.last().map_or_else(|| Ok(AgentOutput::text(
387 +                 "Composition completed with no output".to_string(),
388 +             )), |final_output| Ok(final_output.clone()))
    |

warning: unused `self` argument
   --> llmspell-agents/src/tool_manager.rs:418:9
    |
418 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unused_self

warning: this function's return value is unnecessarily wrapped by `Result`
   --> llmspell-agents/src/tool_manager.rs:417:5
    |
417 | /     fn prepare_step_parameters(
418 | |         &self,
419 | |         base_parameters: &JsonValue,
420 | |         context_mode: &ContextMode,
...   |
444 | |         Ok(parameters)
445 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
423 -     ) -> Result<JsonValue> {
423 +     ) -> serde_json::Value {
    |
help: ...and then change returning expressions
    |
444 -         Ok(parameters)
444 +         parameters
    |

warning: more than 3 bools in a struct
  --> llmspell-agents/src/testing/framework.rs:26:1
   |
26 | / pub struct TestConfig {
27 | |     /// Maximum test duration before timeout
28 | |     pub timeout: Duration,
29 | |     /// Enable debug logging
...  |
38 | |     pub metadata: HashMap<String, serde_json::Value>,
39 | | }
   | |_^
   |
   = help: consider using a state machine or refactoring bools into two-variant enums
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#struct_excessive_bools

warning: this method could have a `#[must_use]` attribute
   --> llmspell-agents/src/testing/framework.rs:125:5
    |
125 |     pub fn new(config: TestConfig) -> Self {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add the attribute: `#[must_use] pub fn new(config: TestConfig) -> Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate

warning: docs for function which may panic missing `# Panics` section
   --> llmspell-agents/src/testing/mocks.rs:625:5
    |
625 |     pub fn set_response(&self, input_key: &str, output: ToolOutput) {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> llmspell-agents/src/testing/mocks.rs:626:9
    |
626 | /         self.responses
627 | |             .lock()
628 | |             .unwrap()
    | |_____________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_panics_doc

warning: use Option::map_or_else instead of an if let/else
   --> llmspell-agents/src/testing/mocks.rs:690:27
    |
690 |           let tool_output = if let Some(response) = responses.get(&input_str) {
    |  ___________________________^
691 | |             response.clone()
692 | |         } else {
...   |
705 | |         };
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
    |
690 ~         let tool_output = responses.get(&input_str).map_or_else(|| ToolOutput {
691 +                 success: true,
692 +                 data: serde_json::json!({
693 +                     "mock": true,
694 +                     "tool": self.metadata.name,
695 +                     "input": params,
696 +                     "timestamp": chrono::Utc::now().to_rfc3339(),
697 +                 }),
698 +                 error: None,
699 +                 execution_time_ms: Some(10),
700 ~             }, |response| response.clone());
    |

warning: use Option::map_or_else instead of an if let/else
   --> llmspell-agents/src/testing/utils.rs:190:9
    |
190 | /         match tokio::time::timeout(duration, future).await {
191 | |             Ok(result) => Ok(result),
192 | |             Err(_) => Err(format!("Operation timed out after {duration:?}")),
193 | |         }
    | |_________^ help: try: `(tokio::time::timeout(duration, future).await).map_or_else(|_| Err(format!("Operation timed out after {duration:?}")), |result| Ok(result))`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else

warning: this argument is a mutable reference, but not used mutably
   --> llmspell-agents/src/tool_manager.rs:400:18
    |
400 |         context: &mut ExecutionContext,
    |                  ^^^^^^^^^^^^^^^^^^^^^ help: consider changing to: `&ExecutionContext`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_ref_mut
    = note: `-W clippy::needless-pass-by-ref-mut` implied by `-W clippy::nursery`
    = help: to override `-W clippy::nursery` add `#[allow(clippy::needless_pass_by_ref_mut)]`

warning: `llmspell-agents` (lib) generated 150 warnings (run `cargo clippy --fix --lib -p llmspell-agents` to apply 97 suggestions)
    Checking llmspell-bridge v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-bridge)
warning: very complex type used. Consider factoring parts into `type` definitions
   --> llmspell-bridge/src/engine/factory.rs:391:25
    |
391 | static PLUGIN_REGISTRY: LazyLock<Arc<RwLock<HashMap<String, Box<dyn ScriptEnginePlugin>>>>> =
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#type_complexity
    = note: `-W clippy::type-complexity` implied by `-W clippy::all`
    = help: to override `-W clippy::all` add `#[allow(clippy::type_complexity)]`

warning: this could be a `const fn`
   --> llmspell-bridge/src/runtime.rs:394:5
    |
394 | /     pub fn javascript_config(mut self, config: JSConfig) -> Self {
395 | |         self.config.engines.javascript = config;
396 | |         self
397 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
    = note: `-W clippy::missing-const-for-fn` implied by `-W clippy::nursery`
    = help: to override `-W clippy::nursery` add `#[allow(clippy::missing_const_for_fn)]`
help: make the function `const`
    |
394 |     pub const fn javascript_config(mut self, config: JSConfig) -> Self {
    |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/runtime.rs:491:5
    |
491 | /     pub fn max_concurrent_scripts(mut self, max: usize) -> Self {
492 | |         self.config.max_concurrent_scripts = max;
493 | |         self
494 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
491 |     pub const fn max_concurrent_scripts(mut self, max: usize) -> Self {
    |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/runtime.rs:498:5
    |
498 | /     pub fn script_timeout_seconds(mut self, timeout: u64) -> Self {
499 | |         self.config.script_timeout_seconds = timeout;
500 | |         self
501 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
498 |     pub const fn script_timeout_seconds(mut self, timeout: u64) -> Self {
    |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/runtime.rs:505:5
    |
505 | /     pub fn enable_streaming(mut self, enable: bool) -> Self {
506 | |         self.config.enable_streaming = enable;
507 | |         self
508 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
505 |     pub const fn enable_streaming(mut self, enable: bool) -> Self {
    |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/runtime.rs:512:5
    |
512 | /     pub fn security(mut self, security: SecurityConfig) -> Self {
513 | |         self.config.security = security;
514 | |         self
515 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
512 |     pub const fn security(mut self, security: SecurityConfig) -> Self {
    |         +++++

warning: more than 3 bools in a struct
   --> llmspell-bridge/src/runtime.rs:575:1
    |
575 | / pub struct StatePersistenceConfig {
576 | |     /// Enable state persistence
577 | |     pub enabled: bool,
578 | |     /// Backend type for storage (memory, file, redis, etc.)
...   |
591 | |     pub backup: Option<BackupConfig>,
592 | | }
    | |_^
    |
    = help: consider using a state machine or refactoring bools into two-variant enums
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#struct_excessive_bools
    = note: `-W clippy::struct-excessive-bools` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::struct_excessive_bools)]`

warning: item in documentation is missing backticks
 --> llmspell-bridge/src/storage.rs:2:78
  |
2 | //! ABOUTME: Provides discovery of available storage backends (Memory, Sled, RocksDB)
  |                                                                              ^^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
  = note: `-W clippy::doc-markdown` implied by `-W clippy::pedantic`
  = help: to override `-W clippy::pedantic` add `#[allow(clippy::doc_markdown)]`
help: try
  |
2 - //! ABOUTME: Provides discovery of available storage backends (Memory, Sled, RocksDB)
2 + //! ABOUTME: Provides discovery of available storage backends (Memory, Sled, `RocksDB`)
  |

warning: item in documentation is missing backticks
   --> llmspell-bridge/src/storage.rs:252:58
    |
252 |     /// Performance optimization preset (fast, balanced, storage_optimized)
    |                                                          ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
252 -     /// Performance optimization preset (fast, balanced, storage_optimized)
252 +     /// Performance optimization preset (fast, balanced, `storage_optimized`)
    |

warning: item in documentation is missing backticks
   --> llmspell-bridge/src/storage.rs:269:34
    |
269 |     /// Create a new builder for StorageConfig
    |                                  ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
269 -     /// Create a new builder for StorageConfig
269 +     /// Create a new builder for `StorageConfig`
    |

warning: item in documentation is missing backticks
   --> llmspell-bridge/src/storage.rs:276:17
    |
276 | /// Builder for StorageConfig
    |                 ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
276 - /// Builder for StorageConfig
276 + /// Builder for `StorageConfig`
    |

warning: this could be a `const fn`
   --> llmspell-bridge/src/storage.rs:312:5
    |
312 | /     pub fn enable_compression(mut self, enable: bool) -> Self {
313 | |         self.config.enable_compression = enable;
314 | |         self
315 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
312 |     pub const fn enable_compression(mut self, enable: bool) -> Self {
    |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/storage.rs:319:5
    |
319 | /     pub fn enable_encryption(mut self, enable: bool) -> Self {
320 | |         self.config.enable_encryption = enable;
321 | |         self
322 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
319 |     pub const fn enable_encryption(mut self, enable: bool) -> Self {
    |         +++++

warning: item in documentation is missing backticks
   --> llmspell-bridge/src/storage.rs:358:25
    |
358 |     /// Build the final StorageConfig
    |                         ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
358 -     /// Build the final StorageConfig
358 +     /// Build the final `StorageConfig`
    |

warning: this argument is passed by value, but not consumed in the function body
  --> llmspell-bridge/src/tools.rs:48:15
   |
48 |     registry: Arc<ComponentRegistry>,
   |               ^^^^^^^^^^^^^^^^^^^^^^ help: consider taking a reference instead: `&Arc<ComponentRegistry>`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value
   = note: `-W clippy::needless-pass-by-value` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::needless_pass_by_value)]`

warning: this could be a `const fn`
   --> llmspell-bridge/src/tools.rs:316:5
    |
316 | /     pub fn new(registry: Arc<ComponentRegistry>) -> Self {
317 | |         Self { registry }
318 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
316 |     pub const fn new(registry: Arc<ComponentRegistry>) -> Self {
    |         +++++

warning: item in documentation is missing backticks
  --> llmspell-bridge/src/event_bridge.rs:53:29
   |
53 |     /// Returns an error if EventBridge initialization fails
   |                             ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
53 -     /// Returns an error if EventBridge initialization fails
53 +     /// Returns an error if `EventBridge` initialization fails
   |

warning: this method could have a `#[must_use]` attribute
   --> llmspell-bridge/src/event_bridge.rs:210:5
    |
210 |     pub fn get_stats(&self) -> serde_json::Value {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add the attribute: `#[must_use] pub fn get_stats(&self) -> serde_json::Value`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate
    = note: `-W clippy::must-use-candidate` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::must_use_candidate)]`

warning: this could be a `const fn`
   --> llmspell-bridge/src/globals/injection.rs:199:5
    |
199 | /     pub fn get_metrics(&self) -> &InjectionMetrics {
200 | |         self.registry.metrics()
201 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
199 |     pub const fn get_metrics(&self) -> &InjectionMetrics {
    |         +++++

warning: docs for function returning `Result` missing `# Errors` section
  --> llmspell-bridge/src/globals/session_infrastructure.rs:16:1
   |
16 | / pub async fn get_or_create_session_infrastructure(
17 | |     context: &GlobalContext,
18 | |     config: &SessionConfig,
19 | | ) -> Result<SessionInfrastructure> {
   | |__________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc
   = note: `-W clippy::missing-errors-doc` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::missing_errors_doc)]`

warning: casting `u64` to `i64` may wrap around the value
  --> llmspell-bridge/src/globals/session_infrastructure.rs:42:13
   |
42 |             config.session_timeout_seconds as i64,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_wrap
   = note: `-W clippy::cast-possible-wrap` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::cast_possible_wrap)]`

warning: this function's return value is unnecessarily wrapped by `Result`
   --> llmspell-bridge/src/globals/session_infrastructure.rs:99:1
    |
99  | / fn get_or_create_hook_registry(context: &GlobalContext) -> Result<Arc<HookRegistry>> {
100 | |     if let Some(registry) = context.get_bridge::<HookRegistry>("hook_registry") {
101 | |         return Ok(registry);
...   |
107 | |     Ok(registry)
108 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
    = note: `-W clippy::unnecessary-wraps` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::unnecessary_wraps)]`
help: remove `Result` from the return type...
    |
99  - fn get_or_create_hook_registry(context: &GlobalContext) -> Result<Arc<HookRegistry>> {
99  + fn get_or_create_hook_registry(context: &GlobalContext) -> std::sync::Arc<llmspell_hooks::HookRegistry> {
    |
help: ...and then change returning expressions
    |
101 ~         return registry;
102 |     }
...
106 |     context.set_bridge("hook_registry", registry.clone());
107 ~     registry
    |

warning: this function's return value is unnecessarily wrapped by `Result`
   --> llmspell-bridge/src/globals/session_infrastructure.rs:111:1
    |
111 | / fn get_or_create_hook_executor(context: &GlobalContext) -> Result<Arc<HookExecutor>> {
112 | |     if let Some(executor) = context.get_bridge::<HookExecutor>("hook_executor") {
113 | |         return Ok(executor);
...   |
119 | |     Ok(executor)
120 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
111 - fn get_or_create_hook_executor(context: &GlobalContext) -> Result<Arc<HookExecutor>> {
111 + fn get_or_create_hook_executor(context: &GlobalContext) -> std::sync::Arc<llmspell_hooks::HookExecutor> {
    |
help: ...and then change returning expressions
    |
113 ~         return executor;
114 |     }
...
118 |     context.set_bridge("hook_executor", executor.clone());
119 ~     executor
    |

warning: this function's return value is unnecessarily wrapped by `Result`
   --> llmspell-bridge/src/globals/session_infrastructure.rs:123:1
    |
123 | / fn get_or_create_event_bus(context: &GlobalContext) -> Result<Arc<EventBus>> {
124 | |     if let Some(event_bus) = context.get_bridge::<EventBus>("event_bus") {
125 | |         return Ok(event_bus);
...   |
131 | |     Ok(event_bus)
132 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
123 - fn get_or_create_event_bus(context: &GlobalContext) -> Result<Arc<EventBus>> {
123 + fn get_or_create_event_bus(context: &GlobalContext) -> std::sync::Arc<llmspell_events::EventBus> {
    |
help: ...and then change returning expressions
    |
125 ~         return event_bus;
126 |     }
...
130 |     context.set_bridge("event_bus", event_bus.clone());
131 ~     event_bus
    |

warning: casting `u64` to `i64` may wrap around the value
   --> llmspell-bridge/src/globals/state_global.rs:663:37
    |
663 | / ...                   backup
664 | | ...                       .created_at
665 | | ...                       .duration_since(std::time::UNIX_EPOCH)
666 | | ...                       .unwrap()
667 | | ...                       .as_secs() as i64,
    | |___________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_wrap

warning: docs for function returning `Result` missing `# Errors` section
  --> llmspell-bridge/src/globals/state_infrastructure.rs:21:1
   |
21 | / pub async fn get_or_create_state_infrastructure(
22 | |     context: &GlobalContext,
23 | |     config: &StatePersistenceConfig,
24 | | ) -> Result<StateInfrastructure> {
   | |________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc

warning: use Option::map_or_else instead of an if let/else
   --> llmspell-bridge/src/globals/state_infrastructure.rs:124:29
    |
124 |           let backup_config = if let Some(ref backup_cfg) = config.backup {
    |  _____________________________^
125 | |             // Convert from runtime BackupConfig to state-persistence BackupConfig
126 | |             llmspell_state_persistence::config::BackupConfig {
127 | |                 backup_dir: std::path::PathBuf::from(
...   |
147 | |             llmspell_state_persistence::config::BackupConfig::default()
148 | |         };
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
    = note: `-W clippy::option-if-let-else` implied by `-W clippy::nursery`
    = help: to override `-W clippy::nursery` add `#[allow(clippy::option_if_let_else)]`
help: try
    |
124 ~         let backup_config = config.backup.as_ref().map_or_else(llmspell_state_persistence::config::BackupConfig::default, |backup_cfg| llmspell_state_persistence::config::BackupConfig {
125 +                 backup_dir: std::path::PathBuf::from(
126 +                     backup_cfg.backup_dir.as_deref().unwrap_or("./backups"),
127 +                 ),
128 +                 compression_enabled: backup_cfg.compression_enabled,
129 +                 compression_type: match backup_cfg.compression_type.as_str() {
130 +                     "gzip" => llmspell_state_persistence::config::CompressionType::Gzip,
131 +                     "lz4" => llmspell_state_persistence::config::CompressionType::Lz4,
132 +                     "brotli" => llmspell_state_persistence::config::CompressionType::Brotli,
133 +                     _ => llmspell_state_persistence::config::CompressionType::Zstd,
134 +                 },
135 +                 compression_level: backup_cfg.compression_level,
136 +                 encryption_enabled: false, // Not exposed in runtime config yet
137 +                 max_backups: backup_cfg.max_backups,
138 +                 max_backup_age: backup_cfg
139 +                     .max_backup_age
140 +                     .map(std::time::Duration::from_secs),
141 +                 incremental_enabled: backup_cfg.incremental_enabled,
142 +                 full_backup_interval: std::time::Duration::from_secs(86400), // 24 hours default
143 ~             });
    |

warning: this function's return value is unnecessarily wrapped by `Result`
   --> llmspell-bridge/src/globals/state_infrastructure.rs:188:1
    |
188 | / fn create_backend_type(config: &StatePersistenceConfig) -> Result<StorageBackendType> {
189 | |     match config.backend_type.as_str() {
190 | |         "memory" => {
191 | |             debug!("Creating in-memory storage backend type");
...   |
209 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
188 - fn create_backend_type(config: &StatePersistenceConfig) -> Result<StorageBackendType> {
188 + fn create_backend_type(config: &StatePersistenceConfig) -> llmspell_state_persistence::StorageBackendType {
    |
help: ...and then change returning expressions
    |
192 ~             StorageBackendType::Memory
193 |         }
...
197 |                 .unwrap_or_else(|_| "./llmspell_state".to_string());
198 ~             StorageBackendType::Sled(SledConfig {
199 +                 path: std::path::PathBuf::from(path),
200 +                 cache_capacity: 64 * 1024 * 1024, // 64MB
201 +                 use_compression: true,
202 +             })
203 |         }
204 |         backend => {
205 |             warn!("Unknown backend type '{}', falling back to memory", backend);
206 ~             StorageBackendType::Memory
    |

warning: this function's return value is unnecessarily wrapped by `Result`
   --> llmspell-bridge/src/globals/state_infrastructure.rs:212:1
    |
212 | / fn get_or_create_event_bus(context: &GlobalContext) -> Result<Arc<EventBus>> {
213 | |     if let Some(event_bus) = context.get_bridge::<EventBus>("event_bus") {
214 | |         return Ok(event_bus);
...   |
220 | |     Ok(event_bus)
221 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
212 - fn get_or_create_event_bus(context: &GlobalContext) -> Result<Arc<EventBus>> {
212 + fn get_or_create_event_bus(context: &GlobalContext) -> std::sync::Arc<llmspell_events::EventBus> {
    |
help: ...and then change returning expressions
    |
214 ~         return event_bus;
215 |     }
...
219 |     context.set_bridge("event_bus", event_bus.clone());
220 ~     event_bus
    |

warning: this function's return value is unnecessarily wrapped by `Result`
   --> llmspell-bridge/src/globals/state_infrastructure.rs:224:1
    |
224 | / fn get_or_create_correlation_tracker(
225 | |     context: &GlobalContext,
226 | | ) -> Result<Arc<EventCorrelationTracker>> {
227 | |     if let Some(tracker) = context.get_bridge::<EventCorrelationTracker>("correlation_tracker") {
...   |
234 | |     Ok(tracker)
235 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
226 - ) -> Result<Arc<EventCorrelationTracker>> {
226 + ) -> std::sync::Arc<llmspell_events::EventCorrelationTracker> {
    |
help: ...and then change returning expressions
    |
228 ~         return tracker;
229 |     }
...
233 |     context.set_bridge("correlation_tracker", tracker.clone());
234 ~     tracker
    |

warning: this function's return value is unnecessarily wrapped by `Result`
   --> llmspell-bridge/src/globals/state_infrastructure.rs:238:1
    |
238 | / fn get_or_create_hook_executor(context: &GlobalContext) -> Result<Arc<HookExecutor>> {
239 | |     if let Some(executor) = context.get_bridge::<HookExecutor>("hook_executor") {
240 | |         return Ok(executor);
...   |
246 | |     Ok(executor)
247 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
238 - fn get_or_create_hook_executor(context: &GlobalContext) -> Result<Arc<HookExecutor>> {
238 + fn get_or_create_hook_executor(context: &GlobalContext) -> std::sync::Arc<llmspell_hooks::HookExecutor> {
    |
help: ...and then change returning expressions
    |
240 ~         return executor;
241 |     }
...
245 |     context.set_bridge("hook_executor", executor.clone());
246 ~     executor
    |

warning: item in documentation is missing backticks
  --> llmspell-bridge/src/globals/tool_api_standard.rs:79:9
   |
79 | //! ### ToolInfo
   |         ^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
79 - //! ### ToolInfo
79 + //! ### `ToolInfo`
   |

warning: item in documentation is missing backticks
  --> llmspell-bridge/src/globals/tool_api_standard.rs:89:9
   |
89 | //! ### ToolSchema
   |         ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
89 - //! ### ToolSchema
89 + //! ### `ToolSchema`
   |

warning: item in documentation is missing backticks
   --> llmspell-bridge/src/globals/tool_api_standard.rs:127:27
    |
127 | //! - Direct tool access (Tool.tool_name) uses lazy loading
    |                           ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
127 - //! - Direct tool access (Tool.tool_name) uses lazy loading
127 + //! - Direct tool access (`Tool.tool_name`) uses lazy loading
    |

warning: item in documentation is missing backticks
   --> llmspell-bridge/src/globals/tool_api_standard.rs:172:23
    |
172 | /// Convert from core ToolSchema to standard schema
    |                       ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
172 - /// Convert from core ToolSchema to standard schema
172 + /// Convert from core `ToolSchema` to standard schema
    |

warning: this function's return value is unnecessarily wrapped by `Result`
   --> llmspell-bridge/src/hook_bridge.rs:417:5
    |
417 | /     fn create_hook_event(
418 | |         hook_point: &HookPoint,
419 | |         status: &str,
420 | |         correlation_id: Uuid,
...   |
444 | |         Ok(event)
445 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
422 -     ) -> Result<UniversalEvent, LLMSpellError> {
422 +     ) -> llmspell_events::UniversalEvent {
    |
help: ...and then change returning expressions
    |
444 -         Ok(event)
444 +         event
    |

warning: this method could have a `#[must_use]` attribute
   --> llmspell-bridge/src/agent_bridge.rs:108:5
    |
108 |     pub fn list_agent_types(&self) -> Vec<String> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add the attribute: `#[must_use] pub fn list_agent_types(&self) -> Vec<String>`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate

warning: this method could have a `#[must_use]` attribute
   --> llmspell-bridge/src/agent_bridge.rs:113:5
    |
113 |     pub fn list_templates(&self) -> Vec<String> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add the attribute: `#[must_use] pub fn list_templates(&self) -> Vec<String>`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate

warning: called `map(<f>).unwrap_or(<a>)` on an `Option` value
   --> llmspell-bridge/src/agent_bridge.rs:855:32
    |
855 |                     "elapsed": transition.duration.map(|d| d.as_secs_f64()).unwrap_or(0.0),
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#map_unwrap_or
    = note: `-W clippy::map-unwrap-or` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::map_unwrap_or)]`
help: use `map_or(<a>, <f>)` instead
    |
855 -                     "elapsed": transition.duration.map(|d| d.as_secs_f64()).unwrap_or(0.0),
855 +                     "elapsed": transition.duration.map_or(0.0, |d| d.as_secs_f64()),
    |

warning: this argument is passed by value, but not consumed in the function body
    --> llmspell-bridge/src/agent_bridge.rs:1127:16
     |
1127 |         scope: serde_json::Value,
     |                ^^^^^^^^^^^^^^^^^ help: consider taking a reference instead: `&serde_json::Value`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

warning: this argument is passed by value, but not consumed in the function body
    --> llmspell-bridge/src/agent_bridge.rs:1143:16
     |
1143 |         scope: serde_json::Value,
     |                ^^^^^^^^^^^^^^^^^ help: consider taking a reference instead: `&serde_json::Value`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

warning: use Option::map_or_else instead of an if let/else
    --> llmspell-bridge/src/agent_bridge.rs:1721:24
     |
1721 |           let agent_id = if let Some(agent) = self.get_agent(agent_name).await {
     |  ________________________^
1722 | |             agent.metadata().id.to_string()
1723 | |         } else {
...    |
1726 | |         };
     | |_________^ help: try: `(self.get_agent(agent_name).await).map_or_else(|| agent_name.to_string(), |agent| agent.metadata().id.to_string())`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else

warning: use Option::map_or_else instead of an if let/else
    --> llmspell-bridge/src/agent_bridge.rs:1766:9
     |
1766 | /         match saved_agents {
1767 | |             Some(registry) => {
1768 | |                 // Parse the registry
1769 | |                 if let Some(agents) = registry.as_array() {
...    |
1778 | |             None => Ok(vec![]),
1779 | |         }
     | |_________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
     |
1766 ~         saved_agents.map_or_else(|| Ok(vec![]), |registry| if let Some(agents) = registry.as_array() {
1767 +                     Ok(agents
1768 +                         .iter()
1769 +                         .filter_map(|v| v.as_str().map(String::from))
1770 +                         .collect())
1771 +                 } else {
1772 +                     Ok(vec![])
1773 +                 })
     |

warning: use Option::map_or_else instead of an if let/else
    --> llmspell-bridge/src/agent_bridge.rs:1769:17
     |
1769 | /                 if let Some(agents) = registry.as_array() {
1770 | |                     Ok(agents
1771 | |                         .iter()
1772 | |                         .filter_map(|v| v.as_str().map(String::from))
...    |
1775 | |                     Ok(vec![])
1776 | |                 }
     | |_________________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
     |
1769 ~                 registry.as_array().map_or_else(|| Ok(vec![]), |agents| Ok(agents
1770 +                         .iter()
1771 +                         .filter_map(|v| v.as_str().map(String::from))
1772 +                         .collect()))
     |

warning: use Option::map_or_else instead of an if let/else
    --> llmspell-bridge/src/agent_bridge.rs:1798:17
     |
1798 | /                 if let Some(agents) = registry.as_array() {
1799 | |                     agents
1800 | |                         .iter()
1801 | |                         .filter_map(|v| v.as_str().map(String::from))
...    |
1804 | |                     vec![]
1805 | |                 }
     | |_________________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
     |
1798 ~                 registry.as_array().map_or_else(|| vec![], |agents| agents
1799 +                         .iter()
1800 +                         .filter_map(|v| v.as_str().map(String::from))
1801 +                         .collect::<Vec<_>>())
     |

warning: use Option::map_or_else instead of an if let/else
    --> llmspell-bridge/src/agent_bridge.rs:1847:17
     |
1847 | /                 if let Some(agents) = registry.as_array() {
1848 | |                     agents
1849 | |                         .iter()
1850 | |                         .filter_map(|v| v.as_str().map(String::from))
...    |
1854 | |                     vec![]
1855 | |                 }
     | |_________________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
     |
1847 ~                 registry.as_array().map_or_else(|| vec![], |agents| agents
1848 +                         .iter()
1849 +                         .filter_map(|v| v.as_str().map(String::from))
1850 +                         .filter(|name| name != agent_name)
1851 +                         .collect::<Vec<_>>())
     |

warning: it is more concise to loop over references to containers instead of using explicit iteration methods
  --> llmspell-bridge/src/multi_agent.rs:94:41
   |
94 |     for (agent_id, task_name, input) in agent_tasks.iter() {
   |                                         ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `agent_tasks`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop
   = note: `-W clippy::explicit-iter-loop` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::explicit_iter_loop)]`

warning: this expression creates a reference which is immediately dereferenced by the compiler
   --> llmspell-bridge/src/multi_agent.rs:100:54
    |
100 |                     agent_id: ComponentId::from_name(&agent_id),
    |                                                      ^^^^^^^^^ help: change this to: `agent_id`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_borrow
    = note: `-W clippy::needless-borrow` implied by `-W clippy::all`
    = help: to override `-W clippy::all` add `#[allow(clippy::needless_borrow)]`

warning: this expression creates a reference which is immediately dereferenced by the compiler
   --> llmspell-bridge/src/multi_agent.rs:135:54
    |
135 |                     agent_id: ComponentId::from_name(&agent_id),
    |                                                      ^^^^^^^^^ help: change this to: `agent_id`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_borrow

warning: this expression creates a reference which is immediately dereferenced by the compiler
   --> llmspell-bridge/src/multi_agent.rs:202:46
    |
202 |             agent_id: ComponentId::from_name(&coordinator_agent),
    |                                              ^^^^^^^^^^^^^^^^^^ help: change this to: `coordinator_agent`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_borrow

warning: casting `usize` to `i64` may wrap around the value on targets with 64-bit wide pointers
   --> llmspell-bridge/src/multi_agent.rs:227:66
    |
227 |         LoopWorkflowBuilder::new(name.to_string()).with_range(0, collaboration_rounds as i64, 1);
    |                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_wrap

warning: this could be a `const fn`
  --> llmspell-bridge/src/orchestration.rs:85:5
   |
85 | /     pub fn max_concurrent_workflows(mut self, max: usize) -> Self {
86 | |         self.limits.max_concurrent_workflows = max;
87 | |         self
88 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
85 |     pub const fn max_concurrent_workflows(mut self, max: usize) -> Self {
   |         +++++

warning: this could be a `const fn`
  --> llmspell-bridge/src/orchestration.rs:92:5
   |
92 | /     pub fn max_agent_invocations(mut self, max: usize) -> Self {
93 | |         self.limits.max_agent_invocations = max;
94 | |         self
95 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
92 |     pub const fn max_agent_invocations(mut self, max: usize) -> Self {
   |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/orchestration.rs:99:5
    |
99  | /     pub fn max_memory_mb(mut self, max: usize) -> Self {
100 | |         self.limits.max_memory_mb = max;
101 | |         self
102 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
99  |     pub const fn max_memory_mb(mut self, max: usize) -> Self {
    |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/orchestration.rs:106:5
    |
106 | /     pub fn build(self) -> ResourceLimits {
107 | |         self.limits
108 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
106 |     pub const fn build(self) -> ResourceLimits {
    |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/orchestration.rs:154:5
    |
154 | /     pub fn strategy(mut self, strategy: OrchestrationStrategy) -> Self {
155 | |         self.config.strategy = strategy;
156 | |         self
157 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
154 |     pub const fn strategy(mut self, strategy: OrchestrationStrategy) -> Self {
    |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/orchestration.rs:161:5
    |
161 | /     pub fn max_depth(mut self, depth: usize) -> Self {
162 | |         self.config.max_depth = depth;
163 | |         self
164 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
161 |     pub const fn max_depth(mut self, depth: usize) -> Self {
    |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/orchestration.rs:168:5
    |
168 | /     pub fn timeout_seconds(mut self, timeout: u64) -> Self {
169 | |         self.config.timeout_seconds = timeout;
170 | |         self
171 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
168 |     pub const fn timeout_seconds(mut self, timeout: u64) -> Self {
    |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/orchestration.rs:175:5
    |
175 | /     pub fn allow_parallel(mut self, allow: bool) -> Self {
176 | |         self.config.allow_parallel = allow;
177 | |         self
178 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
175 |     pub const fn allow_parallel(mut self, allow: bool) -> Self {
    |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/orchestration.rs:182:5
    |
182 | /     pub fn resource_limits(mut self, limits: ResourceLimits) -> Self {
183 | |         self.config.resource_limits = limits;
184 | |         self
185 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
182 |     pub const fn resource_limits(mut self, limits: ResourceLimits) -> Self {
    |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/orchestration.rs:189:5
    |
189 | /     pub fn build(self) -> OrchestrationConfig {
190 | |         self.config
191 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
189 |     pub const fn build(self) -> OrchestrationConfig {
    |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/orchestration.rs:304:5
    |
304 | /     pub fn max_attempts(mut self, attempts: usize) -> Self {
305 | |         self.config.max_attempts = attempts;
306 | |         self
307 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
304 |     pub const fn max_attempts(mut self, attempts: usize) -> Self {
    |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/orchestration.rs:311:5
    |
311 | /     pub fn backoff_ms(mut self, ms: u64) -> Self {
312 | |         self.config.backoff_ms = ms;
313 | |         self
314 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
311 |     pub const fn backoff_ms(mut self, ms: u64) -> Self {
    |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/orchestration.rs:318:5
    |
318 | /     pub fn exponential_backoff(mut self, exponential: bool) -> Self {
319 | |         self.config.exponential_backoff = exponential;
320 | |         self
321 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
318 |     pub const fn exponential_backoff(mut self, exponential: bool) -> Self {
    |         +++++

warning: this could be a `const fn`
   --> llmspell-bridge/src/orchestration.rs:325:5
    |
325 | /     pub fn build(self) -> RetryConfig {
326 | |         self.config
327 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
325 |     pub const fn build(self) -> RetryConfig {
    |         +++++

warning: unnecessary closure used to substitute value for `Option::None`
  --> llmspell-bridge/src/standardized_workflows.rs:38:20
   |
38 |           let name = params
   |  ____________________^
39 | |             .get("name")
40 | |             .and_then(|v| v.as_str())
41 | |             .unwrap_or_else(|| workflow_type)
   | |_____________________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_lazy_evaluations
   = note: `-W clippy::unnecessary-lazy-evaluations` implied by `-W clippy::all`
   = help: to override `-W clippy::all` add `#[allow(clippy::unnecessary_lazy_evaluations)]`
help: use `unwrap_or` instead
   |
41 -             .unwrap_or_else(|| workflow_type)
41 +             .unwrap_or(workflow_type)
   |

warning: called `map(f)` on an `Option` value where `f` is a closure that returns the unit type `()`
  --> llmspell-bridge/src/standardized_workflows.rs:47:9
   |
47 | /         params
48 | |             .get("timeout")
49 | |             .and_then(serde_json::Value::as_u64)
50 | |             .map(|timeout_ms| {
51 | |                 config.max_execution_time = Some(Duration::from_millis(timeout_ms));
52 | |             });
   | |______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_map_unit_fn
   = note: `-W clippy::option-map-unit-fn` implied by `-W clippy::all`
   = help: to override `-W clippy::all` add `#[allow(clippy::option_map_unit_fn)]`
help: try
   |
47 ~         if let Some(timeout_ms) = params
48 +             .get("timeout")
49 +             .and_then(serde_json::Value::as_u64) { config.max_execution_time = Some(Duration::from_millis(timeout_ms)); }
   |

warning: called `map(f)` on an `Option` value where `f` is a closure that returns the unit type `()`
  --> llmspell-bridge/src/standardized_workflows.rs:54:9
   |
54 | /         params
55 | |             .get("continue_on_error")
56 | |             .and_then(serde_json::Value::as_bool)
57 | |             .map(|continue_on_error| {
58 | |                 config.continue_on_error = continue_on_error;
59 | |             });
   | |______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_map_unit_fn
help: try
   |
54 ~         if let Some(continue_on_error) = params
55 +             .get("continue_on_error")
56 +             .and_then(serde_json::Value::as_bool) { config.continue_on_error = continue_on_error; }
   |

warning: called `map(f)` on an `Option` value where `f` is a closure that returns the unit type `()`
  --> llmspell-bridge/src/standardized_workflows.rs:61:9
   |
61 | /         params
62 | |             .get("max_retry_attempts")
63 | |             .and_then(serde_json::Value::as_u64)
64 | |             .map(|max_retries| {
65 | |                 config.max_retry_attempts = max_retries as u32;
66 | |             });
   | |______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_map_unit_fn
help: try
   |
61 ~         if let Some(max_retries) = params
62 +             .get("max_retry_attempts")
63 +             .and_then(serde_json::Value::as_u64) { config.max_retry_attempts = max_retries as u32; }
   |

warning: casting `u64` to `u32` may truncate the value
  --> llmspell-bridge/src/standardized_workflows.rs:65:45
   |
65 |                 config.max_retry_attempts = max_retries as u32;
   |                                             ^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
   = note: `-W clippy::cast-possible-truncation` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::cast_possible_truncation)]`
help: ... or use `try_from` and handle the error accordingly
   |
65 -                 config.max_retry_attempts = max_retries as u32;
65 +                 config.max_retry_attempts = u32::try_from(max_retries);
   |

warning: this macro has been superceded by `std::sync::LazyLock`
  --> llmspell-bridge/src/workflow_performance.rs:12:1
   |
12 | / lazy_static! {
13 | |     /// Cache for workflow type information to avoid repeated discovery
14 | |     static ref WORKFLOW_TYPE_CACHE: Arc<RwLock<HashMap<String, WorkflowTypeInfo>>> =
15 | |         Arc::new(RwLock::new(HashMap::new()));
16 | | }
   | |_^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#non_std_lazy_statics
   = note: `-W clippy::non-std-lazy-statics` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::non_std_lazy_statics)]`

warning: this function could have a `#[must_use]` attribute
   --> llmspell-bridge/src/workflow_performance.rs:221:1
    |
221 | pub fn get_workflow_info_cached(workflow_type: &str) -> Option<WorkflowTypeInfo> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add the attribute: `#[must_use] pub fn get_workflow_info_cached(workflow_type: &str) -> Option<WorkflowTypeInfo>`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate

warning: use Option::map_or_else instead of an if let/else
   --> llmspell-bridge/src/workflows.rs:620:5
    |
620 | /     if let Some(collection) = config.get("collection").and_then(|v| v.as_array()) {
621 | |         Ok(LoopIterator::Collection {
622 | |             values: collection.clone(),
623 | |         })
...   |
651 | |         })
652 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
    |
620 ~     config.get("collection").and_then(|v| v.as_array()).map_or_else(|| if let Some(range) = config.get("range").and_then(|v| v.as_object()) {
621 +         let start = range
622 +             .get("start")
623 +             .and_then(serde_json::Value::as_i64)
624 +             .unwrap_or(0);
625 +         let end = range
626 +             .get("end")
627 +             .and_then(serde_json::Value::as_i64)
628 +             .unwrap_or(10);
629 +         let step = range
630 +             .get("step")
631 +             .and_then(serde_json::Value::as_i64)
632 +             .unwrap_or(1);
633 +         Ok(LoopIterator::Range { start, end, step })
634 +     } else if let Some(condition) = config.get("while_condition").and_then(|v| v.as_str()) {
635 +         Ok(LoopIterator::WhileCondition {
636 +             condition: condition.to_string(),
637 +             max_iterations: config
638 +                 .get("max_iterations")
639 +                 .and_then(serde_json::Value::as_u64)
640 +                 .map(|v| usize::try_from(v).unwrap_or(usize::MAX))
641 +                 .unwrap_or(100),
642 +         })
643 +     } else {
644 +         Err(llmspell_core::LLMSpellError::Configuration {
645 +             message: "Iterator must have 'collection', 'range', or 'while_condition'".to_string(),
646 +             source: None,
647 +         })
648 +     }, |collection| Ok(LoopIterator::Collection {
649 +             values: collection.clone(),
650 +         }))
    |

warning: called `map(<f>).unwrap_or(<a>)` on an `Option` value
   --> llmspell-bridge/src/workflows.rs:641:29
    |
641 |               max_iterations: config
    |  _____________________________^
642 | |                 .get("max_iterations")
643 | |                 .and_then(serde_json::Value::as_u64)
644 | |                 .map(|v| usize::try_from(v).unwrap_or(usize::MAX))
645 | |                 .unwrap_or(100),
    | |_______________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#map_unwrap_or
help: use `map_or(<a>, <f>)` instead
    |
644 -                 .map(|v| usize::try_from(v).unwrap_or(usize::MAX))
644 +                 .map_or(100, |v| usize::try_from(v).unwrap_or(usize::MAX)),
    |

warning: this method could have a `#[must_use]` attribute
   --> llmspell-bridge/src/workflows.rs:850:5
    |
850 |     pub fn list_workflow_types(&self) -> Vec<String> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add the attribute: `#[must_use] pub fn list_workflow_types(&self) -> Vec<String>`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate

warning: this method could have a `#[must_use]` attribute
   --> llmspell-bridge/src/workflows.rs:855:5
    |
855 |     pub fn get_workflow_info(&self, workflow_type: &str) -> Option<WorkflowInfo> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add the attribute: `#[must_use] pub fn get_workflow_info(&self, workflow_type: &str) -> Option<WorkflowInfo>`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate

warning: this method could have a `#[must_use]` attribute
   --> llmspell-bridge/src/workflows.rs:860:5
    |
860 |     pub fn get_all_workflow_info(&self) -> Vec<(String, WorkflowInfo)> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add the attribute: `#[must_use] pub fn get_all_workflow_info(&self) -> Vec<(String, WorkflowInfo)>`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate

warning: all fields have the same prefix: `total`
    --> llmspell-bridge/src/workflows.rs:1266:1
     |
1266 | / struct RegistryMetrics {
1267 | |     /// Total workflows registered
1268 | |     total_registered: AtomicU64,
1269 | |     /// Total templates registered
...    |
1272 | |     total_executions: AtomicU64,
1273 | | }
     | |_^
     |
     = help: remove the prefixes
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#struct_field_names
     = note: `-W clippy::struct-field-names` implied by `-W clippy::pedantic`
     = help: to override `-W clippy::pedantic` add `#[allow(clippy::struct_field_names)]`

warning: use Option::map_or_else instead of an if let/else
   --> llmspell-bridge/src/lua/conversion.rs:104:13
    |
104 | /             if let Some(i) = n.as_i64() {
105 | |                 Ok(LuaValue::Integer(i))
106 | |             } else if let Some(f) = n.as_f64() {
107 | |                 Ok(LuaValue::Number(f))
108 | |             } else {
109 | |                 Ok(LuaValue::Nil)
110 | |             }
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
    |
104 ~             n.as_i64().map_or_else(|| if let Some(f) = n.as_f64() {
105 +                 Ok(LuaValue::Number(f))
106 +             } else {
107 +                 Ok(LuaValue::Nil)
108 +             }, |i| Ok(LuaValue::Integer(i)))
    |

warning: this argument is passed by value, but not consumed in the function body
   --> llmspell-bridge/src/lua/conversion.rs:140:51
    |
140 | pub fn lua_table_to_agent_input(lua: &Lua, table: Table) -> mlua::Result<AgentInput> {
    |                                                   ^^^^^ help: consider taking a reference instead: `&Table`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

warning: binding to `_` prefixed variable with no side-effect
   --> llmspell-bridge/src/lua/conversion.rs:155:9
    |
155 |     let _context: Option<ExecutionContext> = None;
    |         ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect_underscore_binding
    = note: `-W clippy::no-effect-underscore-binding` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::no_effect_underscore_binding)]`

warning: this argument is passed by value, but not consumed in the function body
   --> llmspell-bridge/src/lua/conversion.rs:207:43
    |
207 | fn parse_media_content(_lua: &Lua, table: Table) -> mlua::Result<MediaContent> {
    |                                           ^^^^^ help: consider taking a reference instead: `&Table`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

warning: use Option::map_or instead of an if let/else
   --> llmspell-bridge/src/lua/conversion.rs:226:20
    |
226 |       let metadata = if let Ok(width) = table.get::<_, u32>("width") {
    |  ____________________^
227 | |         if let Ok(height) = table.get::<_, u32>("height") {
228 | |             let color_space = table
229 | |                 .get::<_, String>("color_space")
...   |
251 | |         None
252 | |     };
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
    |
226 ~     let metadata = table.get::<_, u32>("width").map_or(None, |width| if let Ok(height) = table.get::<_, u32>("height") {
227 +             let color_space = table
228 +                 .get::<_, String>("color_space")
229 +                 .ok()
230 +                 .and_then(|cs| match cs.as_str() {
231 +                     "rgb" => Some(ColorSpace::RGB),
232 +                     "rgba" => Some(ColorSpace::RGBA),
233 +                     "grayscale" => Some(ColorSpace::Grayscale),
234 +                     "cmyk" => Some(ColorSpace::CMYK),
235 +                     _ => None,
236 +                 })
237 +                 .unwrap_or(ColorSpace::RGB);
238 + 
239 +             Some(ImageMetadata {
240 +                 width,
241 +                 height,
242 +                 color_space,
243 +                 has_transparency: false,
244 +                 dpi: None,
245 +             })
246 +         } else {
247 +             None
248 ~         });
    |

warning: use Option::map_or instead of an if let/else
   --> llmspell-bridge/src/lua/conversion.rs:227:9
    |
227 | /         if let Ok(height) = table.get::<_, u32>("height") {
228 | |             let color_space = table
229 | |                 .get::<_, String>("color_space")
230 | |                 .ok()
...   |
248 | |             None
249 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
    |
227 ~         table.get::<_, u32>("height").map_or(None, |height| {
228 +             let color_space = table
229 +                 .get::<_, String>("color_space")
230 +                 .ok()
231 +                 .and_then(|cs| match cs.as_str() {
232 +                     "rgb" => Some(ColorSpace::RGB),
233 +                     "rgba" => Some(ColorSpace::RGBA),
234 +                     "grayscale" => Some(ColorSpace::Grayscale),
235 +                     "cmyk" => Some(ColorSpace::CMYK),
236 +                     _ => None,
237 +                 })
238 +                 .unwrap_or(ColorSpace::RGB);
239 + 
240 +             Some(ImageMetadata {
241 +                 width,
242 +                 height,
243 +                 color_space,
244 +                 has_transparency: false,
245 +                 dpi: None,
246 +             })
247 +         })
    |

warning: this argument is passed by value, but not consumed in the function body
   --> llmspell-bridge/src/lua/conversion.rs:413:56
    |
413 | pub fn workflow_result_to_lua_table(lua: &Lua, result: serde_json::Value) -> mlua::Result<Table> {
    |                                                        ^^^^^^^^^^^^^^^^^ help: consider taking a reference instead: `&serde_json::Value`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

warning: this could be a `const fn`
   --> llmspell-bridge/src/lua/globals/agent.rs:854:5
    |
854 | /     fn new(bridge: Arc<AgentBridge>) -> Self {
855 | |         Self {
856 | |             bridge,
857 | |             name: None,
...   |
873 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
854 |     const fn new(bridge: Arc<AgentBridge>) -> Self {
    |     +++++

warning: redundant clone
    --> llmspell-bridge/src/lua/globals/agent.rs:1059:45
     |
1059 |             let agent_name_for_create = name.clone();
     |                                             ^^^^^^^^ help: remove this
     |
note: this value is dropped without further use
    --> llmspell-bridge/src/lua/globals/agent.rs:1059:41
     |
1059 |             let agent_name_for_create = name.clone();
     |                                         ^^^^
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone
     = note: `-W clippy::redundant-clone` implied by `-W clippy::nursery`
     = help: to override `-W clippy::nursery` add `#[allow(clippy::redundant_clone)]`

warning: this argument is passed by value, but not consumed in the function body
    --> llmspell-bridge/src/lua/globals/agent.rs:1095:13
     |
1095 |     bridge: Arc<AgentBridge>,
     |             ^^^^^^^^^^^^^^^^ help: consider taking a reference instead: `&Arc<AgentBridge>`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

warning: redundant clone
    --> llmspell-bridge/src/lua/globals/agent.rs:1541:36
     |
1541 |     let bridge_for_builder = bridge.clone();
     |                                    ^^^^^^^^ help: remove this
     |
note: this value is dropped without further use
    --> llmspell-bridge/src/lua/globals/agent.rs:1541:30
     |
1541 |     let bridge_for_builder = bridge.clone();
     |                              ^^^^^^
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

warning: this argument is passed by value, but not consumed in the function body
   --> llmspell-bridge/src/lua/globals/hook.rs:235:22
    |
235 | fn parse_priority(s: Option<String>) -> Priority {
    |                      ^^^^^^^^^^^^^^ help: consider taking a reference instead: `&Option<String>`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

warning: docs for function returning `Result` missing `# Errors` section
   --> llmspell-bridge/src/lua/globals/hook.rs:247:1
    |
247 | / pub fn inject_hook_global(
248 | |     lua: &Lua,
249 | |     _context: &GlobalContext,
250 | |     hook_bridge: Arc<HookBridge>,
251 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc

warning: use Option::map_or_else instead of an if let/else
   --> llmspell-bridge/src/lua/globals/hook.rs:440:13
    |
440 | /             if let Ok(lua_handle) = handle.borrow::<LuaHookHandle>() {
441 | |                 block_on_async::<_, _, LLMSpellError>(
442 | |                     "hook_unregister_standalone",
443 | |                     async move {
...   |
455 | |                 Ok(false) // Invalid handle, return false instead of error
456 | |             }
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
    |
440 ~             handle.borrow::<LuaHookHandle>().map_or_else(|_| Ok(false), |lua_handle| block_on_async::<_, _, LLMSpellError>(
441 +                     "hook_unregister_standalone",
442 +                     async move {
443 +                         let mut handle_lock = lua_handle.handle.write().await;
444 +                         if let Some(h) = handle_lock.take() {
445 +                             lua_handle.hook_bridge.unregister_hook(&h).await?;
446 +                             Ok::<bool, LLMSpellError>(true)
447 +                         } else {
448 +                             Ok::<bool, LLMSpellError>(false)
449 +                         }
450 +                     },
451 +                     None,
452 +                 ))
    |

warning: docs for function returning `Result` missing `# Errors` section
  --> llmspell-bridge/src/lua/globals/json.rs:10:1
   |
10 | pub fn inject_json_global(lua: &Lua) -> Result<(), LLMSpellError> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc

warning: used underscore-prefixed binding
   --> llmspell-bridge/src/lua/globals/replay.rs:156:48
    |
156 |                     arr.push(lua_value_to_json(_lua, v)?);
    |                                                ^^^^
    |
note: binding is defined here
   --> llmspell-bridge/src/lua/globals/replay.rs:125:22
    |
125 | fn lua_value_to_json(_lua: &Lua, value: Value) -> LuaResult<serde_json::Value> {
    |                      ^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#used_underscore_binding
    = note: `-W clippy::used-underscore-binding` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::used_underscore_binding)]`

warning: used underscore-prefixed binding
   --> llmspell-bridge/src/lua/globals/replay.rs:163:53
    |
163 |                     map.insert(k, lua_value_to_json(_lua, v)?);
    |                                                     ^^^^
    |
note: binding is defined here
   --> llmspell-bridge/src/lua/globals/replay.rs:125:22
    |
125 | fn lua_value_to_json(_lua: &Lua, value: Value) -> LuaResult<serde_json::Value> {
    |                      ^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#used_underscore_binding

warning: item in documentation is missing backticks
  --> llmspell-bridge/src/lua/globals/session.rs:16:5
   |
16 | /// SessionBuilder for creating sessions with method chaining
   |     ^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
16 - /// SessionBuilder for creating sessions with method chaining
16 + /// `SessionBuilder` for creating sessions with method chaining
   |

warning: this could be a `const fn`
  --> llmspell-bridge/src/lua/globals/session.rs:26:5
   |
26 | /     fn new(bridge: Arc<SessionBridge>) -> Self {
27 | |         Self {
28 | |             bridge,
29 | |             name: None,
...  |
33 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
26 |     const fn new(bridge: Arc<SessionBridge>) -> Self {
   |     +++++

warning: this argument is passed by value, but not consumed in the function body
   --> llmspell-bridge/src/lua/globals/session.rs:101:21
    |
101 |     session_bridge: Arc<SessionBridge>,
    |                     ^^^^^^^^^^^^^^^^^^ help: consider taking a reference instead: `&Arc<SessionBridge>`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

warning: redundant clone
   --> llmspell-bridge/src/lua/globals/session.rs:420:44
    |
420 |     let bridge_for_builder = session_bridge.clone();
    |                                            ^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> llmspell-bridge/src/lua/globals/session.rs:420:30
    |
420 |     let bridge_for_builder = session_bridge.clone();
    |                              ^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

warning: use Option::map_or_else instead of an if let/else
   --> llmspell-bridge/src/lua/globals/session.rs:164:29
    |
164 |           let session_query = if let Some(q) = query {
    |  _____________________________^
165 | |             // Convert Lua table to SessionQuery
166 | |             let mut query = SessionQuery::default();
...   |
182 | |             SessionQuery::default()
183 | |         };
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
    |
164 ~         let session_query = query.map_or_else(SessionQuery::default, |q| {
165 +             // Convert Lua table to SessionQuery
166 +             let mut query = SessionQuery::default();
167 + 
168 +             if let Ok(Some(_status)) = q.get::<_, Option<String>>("status") {
169 +                 // Parse status - implementation would need the actual status parsing
170 +             }
171 + 
172 +             if let Ok(Some(tags)) = q.get::<_, Option<Vec<String>>>("tags") {
173 +                 query.tags = tags;
174 +             }
175 + 
176 +             if let Ok(Some(limit)) = q.get::<_, Option<usize>>("limit") {
177 +                 query.limit = Some(limit);
178 +             }
179 + 
180 +             query
181 ~         });
    |

warning: all if blocks contain the same code at the end
  --> llmspell-bridge/src/lua/globals/streaming.rs:56:29
   |
56 | / ...                       Ok(value)
57 | | ...                   }
   | |_______________________^
   |
   = note: the end suggestion probably needs some adjustments to use the expression result correctly
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#branches_sharing_code
   = note: `-W clippy::branches-sharing-code` implied by `-W clippy::nursery`
   = help: to override `-W clippy::nursery` add `#[allow(clippy::branches_sharing_code)]`
help: consider moving these statements after the if
   |
56 ~                             }
57 +                             Ok(value)
   |

warning: this argument is passed by value, but not consumed in the function body
  --> llmspell-bridge/src/lua/globals/workflow.rs:20:49
   |
20 | fn _parse_workflow_step(_lua: &Lua, step_table: Table) -> mlua::Result<WorkflowStep> {
   |                                                 ^^^^^ help: consider taking a reference instead: `&Table`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

warning: wildcard pattern covers any other pattern as it will match anyway
   --> llmspell-bridge/src/lua/globals/workflow.rs:107:9
    |
107 |         "fail_fast" | "failfast" | _ => ErrorStrategy::FailFast,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: consider handling `_` separately
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_in_or_patterns
    = note: `-W clippy::wildcard-in-or-patterns` implied by `-W clippy::all`
    = help: to override `-W clippy::all` add `#[allow(clippy::wildcard_in_or_patterns)]`

warning: used underscore-prefixed item
   --> llmspell-bridge/src/lua/globals/workflow.rs:154:45
    |
154 |                         and_conditions.push(_parse_condition(_lua, cond_value)?);
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: item is defined here
   --> llmspell-bridge/src/lua/globals/workflow.rs:113:1
    |
113 | fn _parse_condition(_lua: &Lua, condition_value: Value) -> mlua::Result<Condition> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#used_underscore_items
    = note: `-W clippy::used-underscore-items` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::used_underscore_items)]`

warning: used underscore-prefixed binding
   --> llmspell-bridge/src/lua/globals/workflow.rs:154:62
    |
154 |                         and_conditions.push(_parse_condition(_lua, cond_value)?);
    |                                                              ^^^^
    |
note: binding is defined here
   --> llmspell-bridge/src/lua/globals/workflow.rs:113:21
    |
113 | fn _parse_condition(_lua: &Lua, condition_value: Value) -> mlua::Result<Condition> {
    |                     ^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#used_underscore_binding

warning: used underscore-prefixed item
   --> llmspell-bridge/src/lua/globals/workflow.rs:167:44
    |
167 |                         or_conditions.push(_parse_condition(_lua, cond_value)?);
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: item is defined here
   --> llmspell-bridge/src/lua/globals/workflow.rs:113:1
    |
113 | fn _parse_condition(_lua: &Lua, condition_value: Value) -> mlua::Result<Condition> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#used_underscore_items

warning: used underscore-prefixed binding
   --> llmspell-bridge/src/lua/globals/workflow.rs:167:61
    |
167 |                         or_conditions.push(_parse_condition(_lua, cond_value)?);
    |                                                             ^^^^
    |
note: binding is defined here
   --> llmspell-bridge/src/lua/globals/workflow.rs:113:21
    |
113 | fn _parse_condition(_lua: &Lua, condition_value: Value) -> mlua::Result<Condition> {
    |                     ^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#used_underscore_binding

warning: used underscore-prefixed item
   --> llmspell-bridge/src/lua/globals/workflow.rs:177:45
    |
177 |                         condition: Box::new(_parse_condition(_lua, inner)?),
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: item is defined here
   --> llmspell-bridge/src/lua/globals/workflow.rs:113:1
    |
113 | fn _parse_condition(_lua: &Lua, condition_value: Value) -> mlua::Result<Condition> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#used_underscore_items

warning: used underscore-prefixed binding
   --> llmspell-bridge/src/lua/globals/workflow.rs:177:62
    |
177 |                         condition: Box::new(_parse_condition(_lua, inner)?),
    |                                                              ^^^^
    |
note: binding is defined here
   --> llmspell-bridge/src/lua/globals/workflow.rs:113:21
    |
113 | fn _parse_condition(_lua: &Lua, condition_value: Value) -> mlua::Result<Condition> {
    |                     ^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#used_underscore_binding

warning: item in documentation is missing backticks
   --> llmspell-bridge/src/lua/globals/workflow.rs:443:5
    |
443 | /// WorkflowBuilder for creating workflows with method chaining
    |     ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
443 - /// WorkflowBuilder for creating workflows with method chaining
443 + /// `WorkflowBuilder` for creating workflows with method chaining
    |

warning: very complex type used. Consider factoring parts into `type` definitions
   --> llmspell-bridge/src/lua/globals/workflow.rs:453:16
    |
453 |     condition: Option<Box<dyn Fn(&serde_json::Value) -> bool + Send + Sync>>,
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#type_complexity

warning: very complex type used. Consider factoring parts into `type` definitions
   --> llmspell-bridge/src/lua/globals/workflow.rs:457:21
    |
457 |     loop_condition: Option<Box<dyn Fn(&serde_json::Value) -> bool + Send + Sync>>,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#type_complexity

warning: used underscore-prefixed item
   --> llmspell-bridge/src/lua/globals/workflow.rs:530:24
    |
530 |             let step = _parse_workflow_step(lua, step_table)?;
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: item is defined here
   --> llmspell-bridge/src/lua/globals/workflow.rs:20:1
    |
20  | fn _parse_workflow_step(_lua: &Lua, step_table: Table) -> mlua::Result<WorkflowStep> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#used_underscore_items

warning: used underscore-prefixed item
   --> llmspell-bridge/src/lua/globals/workflow.rs:548:24
    |
548 |             let step = _parse_workflow_step(lua, step_table)?;
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: item is defined here
   --> llmspell-bridge/src/lua/globals/workflow.rs:20:1
    |
20  | fn _parse_workflow_step(_lua: &Lua, step_table: Table) -> mlua::Result<WorkflowStep> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#used_underscore_items

warning: used underscore-prefixed item
   --> llmspell-bridge/src/lua/globals/workflow.rs:554:24
    |
554 |             let step = _parse_workflow_step(lua, step_table)?;
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: item is defined here
   --> llmspell-bridge/src/lua/globals/workflow.rs:20:1
    |
20  | fn _parse_workflow_step(_lua: &Lua, step_table: Table) -> mlua::Result<WorkflowStep> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#used_underscore_items

warning: redundant clone
   --> llmspell-bridge/src/lua/globals/workflow.rs:696:37
    |
696 |             let workflow_name = name.clone();
    |                                     ^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> llmspell-bridge/src/lua/globals/workflow.rs:696:33
    |
696 |             let workflow_name = name.clone();
    |                                 ^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

warning: this argument is passed by value, but not consumed in the function body
   --> llmspell-bridge/src/lua/globals/workflow.rs:755:22
    |
755 |     workflow_bridge: Arc<WorkflowBridge>,
    |                      ^^^^^^^^^^^^^^^^^^^ help: consider taking a reference instead: `&Arc<WorkflowBridge>`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

warning: redundant clone
    --> llmspell-bridge/src/lua/globals/workflow.rs:1409:45
     |
1409 |     let bridge_for_builder = workflow_bridge.clone();
     |                                             ^^^^^^^^ help: remove this
     |
note: this value is dropped without further use
    --> llmspell-bridge/src/lua/globals/workflow.rs:1409:30
     |
1409 |     let bridge_for_builder = workflow_bridge.clone();
     |                              ^^^^^^^^^^^^^^^
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

warning: item in documentation is missing backticks
  --> llmspell-bridge/src/lua/hook_adapter.rs:74:68
   |
74 |     /// Returns an error if the Lua value cannot be converted to a HookResult
   |                                                                    ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
74 -     /// Returns an error if the Lua value cannot be converted to a HookResult
74 +     /// Returns an error if the Lua value cannot be converted to a `HookResult`
   |

warning: use Option::map_or_else instead of an if let/else
   --> llmspell-bridge/src/lua/sync_utils.rs:194:21
    |
194 | /                     match tokio::time::timeout(duration, future).await {
195 | |                         Ok(result) => result,
196 | |                         Err(_) => Err(mlua::Error::RuntimeError(format!(
197 | |                             "{op_name} timed out after {duration:?}"
198 | |                         ))),
199 | |                     }
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
    |
194 ~                     (tokio::time::timeout(duration, future).await).map_or_else(|_| Err(mlua::Error::RuntimeError(format!(
195 +                             "{op_name} timed out after {duration:?}"
196 +                         ))), |result| result)
    |

warning: useless use of `vec!`
   --> llmspell-bridge/src/multi_agent.rs:345:13
    |
345 | /             &vec![
346 | |                 "paper_reader_agent".to_string(),
347 | |                 "concept_extractor_agent".to_string(),
348 | |                 "critic_agent".to_string(),
349 | |                 "summary_writer_agent".to_string(),
350 | |             ],
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#useless_vec
    = note: `-W clippy::useless-vec` implied by `-W clippy::all`
    = help: to override `-W clippy::all` add `#[allow(clippy::useless_vec)]`
help: you can use a slice directly
    |
345 ~             &["paper_reader_agent".to_string(),
346 +                 "concept_extractor_agent".to_string(),
347 +                 "critic_agent".to_string(),
348 ~                 "summary_writer_agent".to_string()],
    |

warning: useless use of `vec!`
   --> llmspell-bridge/src/multi_agent.rs:395:13
    |
395 | /             &vec![
396 | |                 "fundamental_analyst".to_string(),
397 | |                 "technical_analyst".to_string(),
398 | |                 "risk_analyst".to_string(),
399 | |                 "market_analyst".to_string(),
400 | |             ],
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#useless_vec
help: you can use a slice directly
    |
395 ~             &["fundamental_analyst".to_string(),
396 +                 "technical_analyst".to_string(),
397 +                 "risk_analyst".to_string(),
398 ~                 "market_analyst".to_string()],
    |

warning: unused `async` for function with no await statements
   --> llmspell-bridge/src/workflows.rs:229:5
    |
229 | /     pub async fn create_workflow(
230 | |         workflow_type: &str,
231 | |         params: serde_json::Value,
232 | |     ) -> Result<Box<dyn WorkflowExecutor>> {
...   |
255 | |     }
    | |_____^
    |
    = help: consider removing the `async` from this function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unused_async
    = note: `-W clippy::unused-async` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::unused_async)]`

warning: `llmspell-bridge` (lib) generated 123 warnings (run `cargo clippy --fix --lib -p llmspell-bridge` to apply 62 suggestions)
    Checking llmspell-testing v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-testing)
    Checking llmspell-cli v0.6.0 (/Users/spuri/projects/lexlapax/rs-llmspell/llmspell-cli)
warning: `assert!(true)` will be optimized out by the compiler
   --> llmspell-testing/src/macros.rs:169:9
    |
169 |         assert!(true);
    |         ^^^^^^^^^^^^^
    |
    = help: remove it
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#assertions_on_constants
    = note: `#[warn(clippy::assertions_on_constants)]` on by default

warning: `llmspell-testing` (lib test) generated 1 warning
warning: casting `u128` to `f64` causes a loss of precision (`u128` is 128 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> llmspell-tools/tests/simple_performance_check.rs:57:23
   |
57 |     let overhead_ms = duration_with_hooks.as_millis() as f64 - duration_no_hooks.as_millis() as f64;
   |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss
   = note: `-W clippy::cast-precision-loss` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::cast_precision_loss)]`

warning: casting `u128` to `f64` causes a loss of precision (`u128` is 128 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> llmspell-tools/tests/simple_performance_check.rs:57:64
   |
57 |     let overhead_ms = duration_with_hooks.as_millis() as f64 - duration_no_hooks.as_millis() as f64;
   |                                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

warning: casting `u128` to `f64` causes a loss of precision (`u128` is 128 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> llmspell-tools/tests/simple_performance_check.rs:59:24
   |
59 |         (overhead_ms / duration_no_hooks.as_millis() as f64) * 100.0
   |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

warning: binding's name is too similar to existing binding
   --> llmspell-tools/tests/webpage_monitor_integration.rs:149:25
    |
149 |                     let output_value: serde_json::Value =
    |                         ^^^^^^^^^^^^
    |
note: existing binding defined here
   --> llmspell-tools/tests/webpage_monitor_integration.rs:135:17
    |
135 |             let output1_value: serde_json::Value = serde_json::from_str(&output1.text).unwrap();
    |                 ^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#similar_names
    = note: `-W clippy::similar-names` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::similar_names)]`

warning: unused import: `std::sync::Arc`
 --> llmspell-bridge/benches/session_bench.rs:9:5
  |
9 | use std::sync::Arc;
  |     ^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: `llmspell-tools` (test "simple_performance_check") generated 3 warnings
warning: this function has too many lines (150/100)
   --> llmspell-agents/examples/data_pipeline_agent.rs:13:7
    |
13  |   async fn main() -> anyhow::Result<()> {
    |  _______^
14  | |     // Initialize logging
15  | |     tracing_subscriber::fmt().with_max_level(Level::INFO).init();
...   |
201 | |     Ok(())
202 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines
    = note: `-W clippy::too-many-lines` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::too_many_lines)]`

warning: calling `StateMachineConfig::default()` is more clear than this expression
  --> llmspell-agents/tests/integration_tests.rs:57:78
   |
57 |     let state_machine = AgentStateMachine::new("lifecycle_test".to_string(), Default::default());
   |                                                                              ^^^^^^^^^^^^^^^^^^ help: try: `StateMachineConfig::default()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access
   = note: `-W clippy::default-trait-access` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::default_trait_access)]`

warning: adding items after statements is confusing, since items exist from the start of the scope
  --> llmspell-agents/tests/integration_tests.rs:97:5
   |
97 |     use llmspell_agents::templates::base::TemplateInstantiationParams;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements
   = note: `-W clippy::items-after-statements` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::items_after_statements)]`

warning: calling `HashMap::default()` is more clear than this expression
   --> llmspell-agents/tests/integration_tests.rs:110:27
    |
110 |         config_overrides: Default::default(),
    |                           ^^^^^^^^^^^^^^^^^^ help: try: `HashMap::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `HashMap::default()` is more clear than this expression
   --> llmspell-agents/tests/integration_tests.rs:111:22
    |
111 |         environment: Default::default(),
    |                      ^^^^^^^^^^^^^^^^^^ help: try: `HashMap::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> llmspell-agents/tests/integration_tests.rs:155:5
    |
155 |     use llmspell_core::traits::tool_capable::ToolCapable;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements

warning: variables can be used directly in the `format!` string
   --> llmspell-agents/tests/integration_tests.rs:183:42
    |
183 |             let input = AgentInput::text(format!("Request {}", i));
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
    = note: `-W clippy::uninlined-format-args` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::uninlined_format_args)]`
help: change this to
    |
183 -             let input = AgentInput::text(format!("Request {}", i));
183 +             let input = AgentInput::text(format!("Request {i}"));
    |

warning: strict comparison of `f32` or `f64`
   --> llmspell-agents/tests/registry_basic.rs:266:5
    |
266 |     assert_eq!(updated.metrics.success_rate, 0.95);
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: `-W clippy::float-cmp` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::float_cmp)]`
    = note: this warning originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: strict comparison of `f32` or `f64`
   --> llmspell-agents/tests/registry_basic.rs:267:5
    |
267 |     assert_eq!(updated.metrics.avg_execution_time_ms, 50.0);
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this warning originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> llmspell-agents/tests/integration_tests.rs:239:5
    |
239 |     use llmspell_core::traits::agent::Agent;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements

error[E0599]: no method named `execute` found for struct `llmspell_bridge::lua::LuaEngine` in the current scope
  --> llmspell-bridge/benches/session_bench.rs:28:20
   |
28 |             engine.execute(lua_code).await.unwrap()
   |                    ^^^^^^^
   |
help: there is a method `execute_script` with a similar name
   |
28 |             engine.execute_script(lua_code).await.unwrap()
   |                           +++++++

warning: use Option::map_or_else instead of an if let/else
  --> llmspell-tools/tests/common/mod.rs:64:21
   |
64 |       let error_msg = if let Some(error_str) = output_value["error"].as_str() {
   |  _____________________^
65 | |         // Simple string error format
66 | |         error_str.to_string()
67 | |     } else if let Some(error_obj) = output_value["error"].as_object() {
...  |
76 | |         panic!("Expected error field in output, got: {output_value}");
77 | |     };
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
   = note: `-W clippy::option-if-let-else` implied by `-W clippy::nursery`
   = help: to override `-W clippy::nursery` add `#[allow(clippy::option_if_let_else)]`
help: try
   |
64 ~     let error_msg = output_value["error"].as_str().map_or_else(|| if let Some(error_obj) = output_value["error"].as_object() {
65 +         // Complex error object format - try message field first
66 +         if let Some(msg) = error_obj.get("message").and_then(|m| m.as_str()) {
67 +             msg.to_string()
68 +         } else {
69 +             // Fallback to serializing the entire error object
70 +             serde_json::to_string(error_obj).unwrap_or_else(|_| format!("{error_obj:?}"))
71 +         }
72 +     } else {
73 +         panic!("Expected error field in output, got: {output_value}");
74 ~     }, |error_str| error_str.to_string());
   |

warning: use Option::map_or_else instead of an if let/else
  --> llmspell-tools/tests/common/mod.rs:69:9
   |
69 | /         if let Some(msg) = error_obj.get("message").and_then(|m| m.as_str()) {
70 | |             msg.to_string()
71 | |         } else {
...  |
74 | |         }
   | |_________^ help: try: `error_obj.get("message").and_then(|m| m.as_str()).map_or_else(|| serde_json::to_string(error_obj).unwrap_or_else(|_| format!("{error_obj:?}")), |msg| msg.to_string())`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else

error[E0599]: no method named `execute` found for struct `llmspell_bridge::lua::LuaEngine` in the current scope
  --> llmspell-bridge/benches/session_bench.rs:47:16
   |
47 |         engine.execute(create_code).await.unwrap()
   |                ^^^^^^^
   |
help: there is a method `execute_script` with a similar name
   |
47 |         engine.execute_script(create_code).await.unwrap()
   |                       +++++++

warning: `llmspell-agents` (example "data_pipeline_agent") generated 1 warning
warning: item in documentation is missing backticks
 --> llmspell-tools/tests/http_request_integration.rs:1:27
  |
1 | //! Integration tests for HttpRequestTool
  |                           ^^^^^^^^^^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
  = note: `-W clippy::doc-markdown` implied by `-W clippy::pedantic`
  = help: to override `-W clippy::pedantic` add `#[allow(clippy::doc_markdown)]`
help: try
  |
1 - //! Integration tests for HttpRequestTool
1 + //! Integration tests for `HttpRequestTool`
  |

warning: calling `HttpRequestConfig::default()` is more clear than this expression
  --> llmspell-tools/tests/http_request_integration.rs:12:37
   |
12 |     let tool = HttpRequestTool::new(Default::default()).unwrap();
   |                                     ^^^^^^^^^^^^^^^^^^ help: try: `HttpRequestConfig::default()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access
   = note: `-W clippy::default-trait-access` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::default_trait_access)]`

error[E0599]: no method named `execute` found for struct `llmspell_bridge::lua::LuaEngine` in the current scope
  --> llmspell-bridge/benches/session_bench.rs:68:20
   |
68 |             engine.execute(&save_code).await.unwrap()
   |                    ^^^^^^^
   |
help: there is a method `execute_script` with a similar name
   |
68 |             engine.execute_script(&save_code).await.unwrap()
   |                           +++++++

warning: calling `HttpRequestConfig::default()` is more clear than this expression
  --> llmspell-tools/tests/http_request_integration.rs:23:37
   |
23 |     let tool = HttpRequestTool::new(Default::default()).unwrap();
   |                                     ^^^^^^^^^^^^^^^^^^ help: try: `HttpRequestConfig::default()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: variables can be used directly in the `format!` string
  --> llmspell-tools/tests/http_request_integration.rs:59:13
   |
59 |             eprintln!("Warning: HTTP GET test failed due to network issue: {}", e);
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
   = note: `-W clippy::uninlined-format-args` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::uninlined_format_args)]`
help: change this to
   |
59 -             eprintln!("Warning: HTTP GET test failed due to network issue: {}", e);
59 +             eprintln!("Warning: HTTP GET test failed due to network issue: {e}");
   |

warning: calling `HttpRequestConfig::default()` is more clear than this expression
  --> llmspell-tools/tests/http_request_integration.rs:66:37
   |
66 |     let tool = HttpRequestTool::new(Default::default()).unwrap();
   |                                     ^^^^^^^^^^^^^^^^^^ help: try: `HttpRequestConfig::default()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `HttpRequestConfig::default()` is more clear than this expression
  --> llmspell-tools/tests/http_request_integration.rs:92:37
   |
92 |     let tool = HttpRequestTool::new(Default::default()).unwrap();
   |                                     ^^^^^^^^^^^^^^^^^^ help: try: `HttpRequestConfig::default()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `HttpRequestConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/http_request_integration.rs:118:37
    |
118 |     let tool = HttpRequestTool::new(Default::default()).unwrap();
    |                                     ^^^^^^^^^^^^^^^^^^ help: try: `HttpRequestConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `HttpRequestConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/http_request_integration.rs:143:37
    |
143 |     let tool = HttpRequestTool::new(Default::default()).unwrap();
    |                                     ^^^^^^^^^^^^^^^^^^ help: try: `HttpRequestConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: variables can be used directly in the `format!` string
   --> llmspell-tools/tests/http_request_integration.rs:166:13
    |
166 | /             eprintln!(
167 | |                 "Warning: HTTP custom headers test failed due to network issue: {}",
168 | |                 e
169 | |             );
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

warning: calling `HttpRequestConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/http_request_integration.rs:177:37
    |
177 |     let tool = HttpRequestTool::new(Default::default()).unwrap();
    |                                     ^^^^^^^^^^^^^^^^^^ help: try: `HttpRequestConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `HttpRequestConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/http_request_integration.rs:197:37
    |
197 |     let tool = HttpRequestTool::new(Default::default()).unwrap();
    |                                     ^^^^^^^^^^^^^^^^^^ help: try: `HttpRequestConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: variables can be used directly in the `format!` string
   --> llmspell-tools/tests/http_request_integration.rs:224:13
    |
224 | /             eprintln!(
225 | |                 "Warning: HTTP retry logic test failed due to network issue: {}",
226 | |                 e
227 | |             );
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

warning: calling `HttpRequestConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/http_request_integration.rs:235:37
    |
235 |     let tool = HttpRequestTool::new(Default::default()).unwrap();
    |                                     ^^^^^^^^^^^^^^^^^^ help: try: `HttpRequestConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `HttpRequestConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/http_request_integration.rs:257:37
    |
257 |     let tool = HttpRequestTool::new(Default::default()).unwrap();
    |                                     ^^^^^^^^^^^^^^^^^^ help: try: `HttpRequestConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `HttpRequestConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/http_request_integration.rs:280:37
    |
280 |     let tool = HttpRequestTool::new(Default::default()).unwrap();
    |                                     ^^^^^^^^^^^^^^^^^^ help: try: `HttpRequestConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `HttpRequestConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/http_request_integration.rs:307:37
    |
307 |     let tool = HttpRequestTool::new(Default::default()).unwrap();
    |                                     ^^^^^^^^^^^^^^^^^^ help: try: `HttpRequestConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `HttpRequestConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/http_request_integration.rs:331:37
    |
331 |     let tool = HttpRequestTool::new(Default::default()).unwrap();
    |                                     ^^^^^^^^^^^^^^^^^^ help: try: `HttpRequestConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `HttpRequestConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/http_request_integration.rs:357:37
    |
357 |     let tool = HttpRequestTool::new(Default::default()).unwrap();
    |                                     ^^^^^^^^^^^^^^^^^^ help: try: `HttpRequestConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `HttpRequestConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/http_request_integration.rs:372:37
    |
372 |     let tool = HttpRequestTool::new(Default::default()).unwrap();
    |                                     ^^^^^^^^^^^^^^^^^^ help: try: `HttpRequestConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

error[E0599]: no method named `execute` found for struct `llmspell_bridge::lua::LuaEngine` in the current scope
  --> llmspell-bridge/benches/session_bench.rs:75:20
   |
75 |             engine.execute(&load_code).await.unwrap()
   |                    ^^^^^^^
   |
help: there is a method `execute_script` with a similar name
   |
75 |             engine.execute_script(&load_code).await.unwrap()
   |                           +++++++

warning: use Option::map_or_else instead of an if let/else
  --> llmspell-tools/tests/web_tools_error_scenarios.rs:37:33
   |
37 |                   let error_msg = if let Some(error_str) = output_value["error"].as_str() {
   |  _________________________________^
38 | |                     error_str.to_lowercase()
39 | |                 } else if let Some(error_obj) = output_value["error"].as_object() {
40 | |                     if let Some(msg) = error_obj.get("message").and_then(|m| m.as_str()) {
...  |
55 | |                     String::new()
56 | |                 };
   | |_________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
   |
37 ~                 let error_msg = output_value["error"].as_str().map_or_else(|| if let Some(error_obj) = output_value["error"].as_object() {
38 +                     if let Some(msg) = error_obj.get("message").and_then(|m| m.as_str()) {
39 +                         msg.to_lowercase()
40 +                     } else {
41 +                         serde_json::to_string(error_obj)
42 +                             .unwrap_or_default()
43 +                             .to_lowercase()
44 +                     }
45 +                 } else if let Some(result) = output_value.get("result") {
46 +                     // Some tools put error in result.error
47 +                     if let Some(err) = result.get("error").and_then(|e| e.as_str()) {
48 +                         err.to_lowercase()
49 +                     } else {
50 +                         String::new()
51 +                     }
52 +                 } else {
53 +                     String::new()
54 ~                 }, |error_str| error_str.to_lowercase());
   |

warning: use Option::map_or_else instead of an if let/else
  --> llmspell-tools/tests/web_tools_error_scenarios.rs:40:21
   |
40 | /                     if let Some(msg) = error_obj.get("message").and_then(|m| m.as_str()) {
41 | |                         msg.to_lowercase()
42 | |                     } else {
43 | |                         serde_json::to_string(error_obj)
44 | |                             .unwrap_or_default()
45 | |                             .to_lowercase()
46 | |                     }
   | |_____________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
   |
40 ~                     error_obj.get("message").and_then(|m| m.as_str()).map_or_else(|| serde_json::to_string(error_obj)
41 +                             .unwrap_or_default()
42 +                             .to_lowercase(), |msg| msg.to_lowercase())
   |

warning: use Option::map_or_else instead of an if let/else
  --> llmspell-tools/tests/web_tools_error_scenarios.rs:49:21
   |
49 | /                     if let Some(err) = result.get("error").and_then(|e| e.as_str()) {
50 | |                         err.to_lowercase()
51 | |                     } else {
52 | |                         String::new()
53 | |                     }
   | |_____________________^ help: try: `result.get("error").and_then(|e| e.as_str()).map_or_else(String::new, |err| err.to_lowercase())`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else

warning: use Option::map_or_else instead of an if let/else
   --> llmspell-tools/tests/web_tools_error_scenarios.rs:129:41
    |
129 |                           let error_msg = if let Some(error_str) = output_value["error"].as_str() {
    |  _________________________________________^
130 | |                             error_str.to_lowercase()
131 | |                         } else if let Some(error_obj) = output_value["error"].as_object() {
132 | |                             if let Some(msg) = error_obj.get("message").and_then(|m| m.as_str()) {
...   |
140 | |                             String::new()
141 | |                         };
    | |_________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
    |
129 ~                         let error_msg = output_value["error"].as_str().map_or_else(|| if let Some(error_obj) = output_value["error"].as_object() {
130 +                             if let Some(msg) = error_obj.get("message").and_then(|m| m.as_str()) {
131 +                                 msg.to_lowercase()
132 +                             } else {
133 +                                 serde_json::to_string(error_obj)
134 +                                     .unwrap_or_default()
135 +                                     .to_lowercase()
136 +                             }
137 +                         } else {
138 +                             String::new()
139 ~                         }, |error_str| error_str.to_lowercase());
    |

warning: use Option::map_or_else instead of an if let/else
   --> llmspell-tools/tests/web_tools_error_scenarios.rs:132:29
    |
132 | / ...                   if let Some(msg) = error_obj.get("message").and_then(|m| m.as_str()) {
133 | | ...                       msg.to_lowercase()
134 | | ...                   } else {
135 | | ...                       serde_json::to_string(error_obj)
136 | | ...                           .unwrap_or_default()
137 | | ...                           .to_lowercase()
138 | | ...                   }
    | |_______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
    |
132 ~                             error_obj.get("message").and_then(|m| m.as_str()).map_or_else(|| serde_json::to_string(error_obj)
133 +                                     .unwrap_or_default()
134 +                                     .to_lowercase(), |msg| msg.to_lowercase())
    |

warning: `llmspell-agents` (test "registry_basic") generated 2 warnings
error[E0599]: no method named `execute` found for struct `llmspell_bridge::lua::LuaEngine` in the current scope
  --> llmspell-bridge/benches/session_bench.rs:94:16
   |
94 |         engine.execute(create_code).await.unwrap()
   |                ^^^^^^^
   |
help: there is a method `execute_script` with a similar name
   |
94 |         engine.execute_script(create_code).await.unwrap()
   |                       +++++++

warning: `llmspell-agents` (test "integration_tests") generated 7 warnings (run `cargo clippy --fix --test "integration_tests"` to apply 1 suggestion)
warning: casting `i32` to `u64` may lose the sign of the value
   --> llmspell-tools/tests/web_tools_error_scenarios.rs:293:39
    |
293 |             assert_eq!(actual_status, status as u64);
    |                                       ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss
    = note: `-W clippy::cast-sign-loss` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::cast_sign_loss)]`

error[E0599]: no method named `execute` found for struct `llmspell_bridge::lua::LuaEngine` in the current scope
   --> llmspell-bridge/benches/session_bench.rs:131:20
    |
131 |             engine.execute(&store_code).await.unwrap()
    |                    ^^^^^^^
    |
help: there is a method `execute_script` with a similar name
    |
131 |             engine.execute_script(&store_code).await.unwrap()
    |                           +++++++

warning: `llmspell-tools` (test "webpage_monitor_integration") generated 3 warnings
error[E0599]: no method named `execute` found for struct `llmspell_bridge::lua::LuaEngine` in the current scope
   --> llmspell-bridge/benches/session_bench.rs:138:20
    |
138 |             engine.execute(&list_code).await.unwrap()
    |                    ^^^^^^^
    |
help: there is a method `execute_script` with a similar name
    |
138 |             engine.execute_script(&list_code).await.unwrap()
    |                           +++++++

warning: `llmspell-tools` (test "http_request_integration") generated 19 warnings (run `cargo clippy --fix --test "http_request_integration"` to apply 4 suggestions)
error[E0599]: no method named `execute` found for struct `llmspell_bridge::lua::LuaEngine` in the current scope
   --> llmspell-bridge/benches/session_bench.rs:145:20
    |
145 |             engine.execute(&query_code).await.unwrap()
    |                    ^^^^^^^
    |
help: there is a method `execute_script` with a similar name
    |
145 |             engine.execute_script(&query_code).await.unwrap()
    |                           +++++++

warning: `llmspell-tools` (test "web_tools_error_scenarios") generated 8 warnings (2 duplicates)
error[E0599]: no method named `execute` found for struct `llmspell_bridge::lua::LuaEngine` in the current scope
   --> llmspell-bridge/benches/session_bench.rs:178:28
    |
178 |                     engine.execute(&lua_code).await.unwrap()
    |                            ^^^^^^^
    |
help: there is a method `execute_script` with a similar name
    |
178 |                     engine.execute_script(&lua_code).await.unwrap()
    |                                   +++++++

error[E0599]: no method named `execute` found for struct `llmspell_bridge::lua::LuaEngine` in the current scope
   --> llmspell-bridge/benches/session_bench.rs:188:14
    |
187 | /         engine
188 | |             .execute(r#"return Session.create({ name = "batch_artifact_test" })"#)
    | |_____________-^^^^^^^
    |
help: there is a method `execute_script` with a similar name
    |
188 |             .execute_script(r#"return Session.create({ name = "batch_artifact_test" })"#)
    |                     +++++++

error[E0599]: no method named `execute` found for struct `llmspell_bridge::lua::LuaEngine` in the current scope
   --> llmspell-bridge/benches/session_bench.rs:219:28
    |
219 |                     engine.execute(&store_batch_code).await.unwrap()
    |                            ^^^^^^^
    |
help: there is a method `execute_script` with a similar name
    |
219 |                     engine.execute_script(&store_batch_code).await.unwrap()
    |                                   +++++++

error[E0599]: no method named `execute` found for struct `llmspell_bridge::lua::LuaEngine` in the current scope
   --> llmspell-bridge/benches/session_bench.rs:237:18
    |
236 | /             engine
237 | |                 .execute(r#"return Session.create({ name = "perf_test" })"#)
    | |_________________-^^^^^^^
    |
help: there is a method `execute_script` with a similar name
    |
237 |                 .execute_script(r#"return Session.create({ name = "perf_test" })"#)
    |                         +++++++

error[E0599]: no method named `execute` found for struct `llmspell_bridge::lua::LuaEngine` in the current scope
   --> llmspell-bridge/benches/session_bench.rs:247:14
    |
246 | /         engine
247 | |             .execute(r#"return Session.create({ name = "save_load_test" })"#)
    | |_____________-^^^^^^^
    |
help: there is a method `execute_script` with a similar name
    |
247 |             .execute_script(r#"return Session.create({ name = "save_load_test" })"#)
    |                     +++++++

error[E0599]: no method named `execute` found for struct `llmspell_bridge::lua::LuaEngine` in the current scope
   --> llmspell-bridge/benches/session_bench.rs:257:20
    |
257 |             engine.execute(&save_code).await.unwrap()
    |                    ^^^^^^^
    |
help: there is a method `execute_script` with a similar name
    |
257 |             engine.execute_script(&save_code).await.unwrap()
    |                           +++++++

error[E0599]: no method named `execute` found for struct `llmspell_bridge::lua::LuaEngine` in the current scope
   --> llmspell-bridge/benches/session_bench.rs:266:20
    |
266 |             engine.execute(&load_code).await.unwrap()
    |                    ^^^^^^^
    |
help: there is a method `execute_script` with a similar name
    |
266 |             engine.execute_script(&load_code).await.unwrap()
    |                           +++++++

error[E0599]: no method named `execute` found for struct `llmspell_bridge::lua::LuaEngine` in the current scope
   --> llmspell-bridge/benches/session_bench.rs:287:20
    |
287 |             engine.execute(&store_text_code).await.unwrap()
    |                    ^^^^^^^
    |
help: there is a method `execute_script` with a similar name
    |
287 |             engine.execute_script(&store_text_code).await.unwrap()
    |                           +++++++

For more information about this error, try `rustc --explain E0599`.
warning: `llmspell-bridge` (bench "session_bench") generated 1 warning
error: could not compile `llmspell-bridge` (bench "session_bench") due to 16 previous errors; 1 warning emitted
warning: build failed, waiting for other jobs to finish...
warning: using `clone` on type `ComponentId` which implements the `Copy` trait
   --> llmspell-hooks/src/artifact_hooks.rs:127:13
    |
127 |             component_id.clone(),
    |             ^^^^^^^^^^^^^^^^^^^^ help: try removing the `clone` call: `component_id`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#clone_on_copy
    = note: `#[warn(clippy::clone_on_copy)]` on by default

warning: items after a test module
   --> llmspell-hooks/src/builtin/caching.rs:457:1
    |
457 | mod tests {
    | ^^^^^^^^^
...
744 | impl ReplayableHook for CachingHook {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_test_module
    = note: `#[warn(clippy::items_after_test_module)]` on by default
    = help: move the items to before the test module was defined

warning: items after a test module
   --> llmspell-hooks/src/builtin/cost_tracking.rs:675:1
    |
675 | mod tests {
    | ^^^^^^^^^
...
897 | impl ReplayableHook for CostTrackingHook {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_test_module
    = help: move the items to before the test module was defined

warning: items after a test module
   --> llmspell-hooks/src/builtin/debugging.rs:479:1
    |
479 | mod tests {
    | ^^^^^^^^^
...
683 | impl ReplayableHook for DebuggingHook {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_test_module
    = help: move the items to before the test module was defined

warning: unnecessary use of `get("_logging_config").is_none()`
   --> llmspell-hooks/src/builtin/logging.rs:431:35
    |
431 |         assert!(deserialized.data.get("_logging_config").is_none());
    |                 ------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |                 |
    |                 help: replace it with: `!deserialized.data.contains_key("_logging_config")`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_get_then_check
    = note: `#[warn(clippy::unnecessary_get_then_check)]` on by default

warning: unnecessary use of `get("_metrics_config").is_none()`
   --> llmspell-hooks/src/builtin/metrics.rs:729:35
    |
729 |         assert!(deserialized.data.get("_metrics_config").is_none());
    |                 ------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |                 |
    |                 help: replace it with: `!deserialized.data.contains_key("_metrics_config")`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_get_then_check

warning: unnecessary use of `get("_metrics_snapshot").is_none()`
   --> llmspell-hooks/src/builtin/metrics.rs:730:35
    |
730 |         assert!(deserialized.data.get("_metrics_snapshot").is_none());
    |                 ------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |                 |
    |                 help: replace it with: `!deserialized.data.contains_key("_metrics_snapshot")`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_get_then_check

warning: unnecessary use of `get("_rate_limit_config").is_none()`
   --> llmspell-hooks/src/builtin/rate_limit.rs:796:35
    |
796 |         assert!(deserialized.data.get("_rate_limit_config").is_none());
    |                 ------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |                 |
    |                 help: replace it with: `!deserialized.data.contains_key("_rate_limit_config")`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_get_then_check

warning: unnecessary use of `get("_rate_limit_metrics").is_none()`
   --> llmspell-hooks/src/builtin/rate_limit.rs:797:35
    |
797 |         assert!(deserialized.data.get("_rate_limit_metrics").is_none());
    |                 ------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |                 |
    |                 help: replace it with: `!deserialized.data.contains_key("_rate_limit_metrics")`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_get_then_check

warning: items after a test module
   --> llmspell-hooks/src/builtin/retry.rs:528:1
    |
528 | mod tests {
    | ^^^^^^^^^
...
702 | impl ReplayableHook for RetryHook {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_test_module
    = help: move the items to before the test module was defined

warning: items after a test module
   --> llmspell-hooks/src/builtin/security.rs:671:1
    |
671 | mod tests {
    | ^^^^^^^^^
...
904 | impl ReplayableHook for SecurityHook {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_test_module
    = help: move the items to before the test module was defined

warning: field assignment outside of initializer for an instance created with Default::default()
   --> llmspell-hooks/src/collectors/agent_output.rs:233:9
    |
233 |         config.min_size = 10; // Lower minimum for tests
    |         ^^^^^^^^^^^^^^^^^^^^^
    |
note: consider initializing the variable with `collectors::CollectionConfig { min_size: 10, ..Default::default() }` and removing relevant reassignments
   --> llmspell-hooks/src/collectors/agent_output.rs:232:9
    |
232 |         let mut config = CollectionConfig::default();
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#field_reassign_with_default
    = note: `#[warn(clippy::field_reassign_with_default)]` on by default

warning: field assignment outside of initializer for an instance created with Default::default()
   --> llmspell-hooks/src/collectors/agent_output.rs:271:9
    |
271 |         config.min_size = 10; // Lower minimum for tests
    |         ^^^^^^^^^^^^^^^^^^^^^
    |
note: consider initializing the variable with `collectors::CollectionConfig { min_size: 10, ..Default::default() }` and removing relevant reassignments
   --> llmspell-hooks/src/collectors/agent_output.rs:270:9
    |
270 |         let mut config = CollectionConfig::default();
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#field_reassign_with_default

warning: field assignment outside of initializer for an instance created with Default::default()
   --> llmspell-hooks/src/collectors/agent_output.rs:293:9
    |
293 |         config.min_size = 10;
    |         ^^^^^^^^^^^^^^^^^^^^^
    |
note: consider initializing the variable with `collectors::CollectionConfig { min_size: 10, max_size: 100, ..Default::default() }` and removing relevant reassignments
   --> llmspell-hooks/src/collectors/agent_output.rs:292:9
    |
292 |         let mut config = CollectionConfig::default();
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#field_reassign_with_default

warning: field assignment outside of initializer for an instance created with Default::default()
   --> llmspell-hooks/src/collectors/tool_result.rs:215:9
    |
215 |         config.min_size = 10; // Lower minimum for tests
    |         ^^^^^^^^^^^^^^^^^^^^^
    |
note: consider initializing the variable with `collectors::CollectionConfig { min_size: 10, ..Default::default() }` and removing relevant reassignments
   --> llmspell-hooks/src/collectors/tool_result.rs:214:9
    |
214 |         let mut config = CollectionConfig::default();
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#field_reassign_with_default

warning: module has the same name as its containing module
   --> llmspell-hooks/src/persistence/tests.rs:5:1
    |
5   | / mod tests {
6   | |     use crate::context::HookContext;
7   | |     use crate::persistence::*;
8   | |     use crate::result::HookResult;
...   |
390 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#module_inception
    = note: `#[warn(clippy::module_inception)]` on by default

warning: field assignment outside of initializer for an instance created with Default::default()
   --> llmspell-hooks/src/persistence/tests.rs:333:9
    |
333 |         options.modify_parameters = true;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: consider initializing the variable with `persistence::replay::ReplayOptions { modify_parameters: true, custom_parameters: Some(serde_json::json!({"test": "value"})), dry_run: false, ..Default::default() }` and removing relevant reassignments
   --> llmspell-hooks/src/persistence/tests.rs:332:9
    |
332 |         let mut options = ReplayOptions::default();
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#field_reassign_with_default

warning: this function has too many lines (144/100)
   --> llmspell-agents/examples/code_gen_agent.rs:13:7
    |
13  |   async fn main() -> anyhow::Result<()> {
    |  _______^
14  | |     // Initialize logging
15  | |     tracing_subscriber::fmt().with_max_level(Level::INFO).init();
...   |
195 | |     Ok(())
196 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines
    = note: `-W clippy::too-many-lines` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::too_many_lines)]`

warning: calling `HashCalculatorConfig::default()` is more clear than this expression
   --> llmspell-tools/benches/tool_operations.rs:106:40
    |
106 |     let tool = HashCalculatorTool::new(Default::default());
    |                                        ^^^^^^^^^^^^^^^^^^ help: try: `HashCalculatorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access
    = note: `-W clippy::default-trait-access` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::default_trait_access)]`

warning: calling `TextManipulatorConfig::default()` is more clear than this expression
   --> llmspell-tools/benches/tool_operations.rs:170:41
    |
170 |     let tool = TextManipulatorTool::new(Default::default());
    |                                         ^^^^^^^^^^^^^^^^^^ help: try: `TextManipulatorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `JsonProcessorConfig::default()` is more clear than this expression
   --> llmspell-tools/benches/tool_operations.rs:214:39
    |
214 |     let tool = JsonProcessorTool::new(Default::default());
    |                                       ^^^^^^^^^^^^^^^^^^ help: try: `JsonProcessorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `UuidGeneratorConfig::default()` is more clear than this expression
   --> llmspell-tools/benches/tool_operations.rs:277:39
    |
277 |     let tool = UuidGeneratorTool::new(Default::default());
    |                                       ^^^^^^^^^^^^^^^^^^ help: try: `UuidGeneratorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `JsonProcessorConfig::default()` is more clear than this expression
   --> llmspell-tools/benches/tool_operations.rs:321:48
    |
321 |         let json_tool = JsonProcessorTool::new(Default::default());
    |                                                ^^^^^^^^^^^^^^^^^^ help: try: `JsonProcessorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `HashCalculatorConfig::default()` is more clear than this expression
   --> llmspell-tools/benches/tool_operations.rs:322:49
    |
322 |         let hash_tool = HashCalculatorTool::new(Default::default());
    |                                                 ^^^^^^^^^^^^^^^^^^ help: try: `HashCalculatorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `TextManipulatorConfig::default()` is more clear than this expression
   --> llmspell-tools/benches/tool_operations.rs:323:50
    |
323 |         let text_tool = TextManipulatorTool::new(Default::default());
    |                                                  ^^^^^^^^^^^^^^^^^^ help: try: `TextManipulatorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: casting `u64` to `f64` causes a loss of precision (`u64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> llmspell-agents/examples/monitoring_setup.rs:164:13
    |
164 |             (i as f64).mul_add(10.0, 100.0) * 1024.0 * 1024.0, // Memory
    |             ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss
    = note: `-W clippy::cast-precision-loss` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::cast_precision_loss)]`

warning: casting `u64` to `f64` causes a loss of precision (`u64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> llmspell-agents/examples/monitoring_setup.rs:165:13
    |
165 |             (i as f64).mul_add(5.0, 20.0),                     // CPU
    |             ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

warning: casting `u64` to `f64` causes a loss of precision (`u64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> llmspell-agents/examples/monitoring_setup.rs:173:13
    |
173 |             snapshot.resources.memory_bytes as f64 / (1024.0 * 1024.0),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> llmspell-agents/examples/monitoring_setup.rs:227:5
    |
227 |     use llmspell_agents::TraceAnalyzer;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements
    = note: `-W clippy::items-after-statements` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::items_after_statements)]`

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> llmspell-agents/examples/monitoring_setup.rs:245:5
    |
245 |     use llmspell_agents::{ComponentFilter, RateLimitFilter};
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> llmspell-agents/examples/monitoring_setup.rs:245:27
    |
245 |     use llmspell_agents::{ComponentFilter, RateLimitFilter};
    |                           ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> llmspell-agents/examples/monitoring_setup.rs:245:44
    |
245 |     use llmspell_agents::{ComponentFilter, RateLimitFilter};
    |                                            ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> llmspell-agents/examples/monitoring_setup.rs:258:5
    |
258 |     use llmspell_agents::ErrorDetails;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements

warning: single-character string constant used as pattern
  --> llmspell-tools/tests/hook_integration_tests.rs:52:34
   |
52 |     assert!(output.text.contains("4"));
   |                                  ^^^ help: consider using a `char`: `'4'`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_char_pattern
   = note: `-W clippy::single-char-pattern` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::single_char_pattern)]`

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> llmspell-agents/examples/monitoring_setup.rs:329:5
    |
329 |     use llmspell_agents::{AlertContext, MonitoringHealthStatus as HealthStatus};
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> llmspell-agents/examples/monitoring_setup.rs:329:27
    |
329 |     use llmspell_agents::{AlertContext, MonitoringHealthStatus as HealthStatus};
    |                           ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> llmspell-agents/examples/monitoring_setup.rs:329:41
    |
329 |     use llmspell_agents::{AlertContext, MonitoringHealthStatus as HealthStatus};
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements

warning: unused `async` for function with no await statements
   --> llmspell-agents/examples/monitoring_setup.rs:239:1
    |
239 | / async fn setup_logging(agent: &Arc<BasicAgent>) -> Result<(), Box<dyn std::error::Error>> {
240 | |     let mut logger = EventLogger::new(agent.metadata().id.to_string(), 1000);
241 | |     logger.set_level(LogLevel::Debug);
242 | |     logger.add_exporter(Box::new(ConsoleLogExporter));
...   |
279 | |     Ok(())
280 | | }
    | |_^
    |
    = help: consider removing the `async` from this function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unused_async
    = note: `-W clippy::unused-async` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::unused_async)]`

warning: casting `u128` to `f64` causes a loss of precision (`u128` is 128 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> llmspell-tools/tests/hook_integration_tests.rs:262:23
    |
262 |     let overhead_ms = duration_with_hooks.as_millis() as f64 - duration_no_hooks.as_millis() as f64;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss
    = note: `-W clippy::cast-precision-loss` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::cast_precision_loss)]`

warning: casting `u128` to `f64` causes a loss of precision (`u128` is 128 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> llmspell-tools/tests/hook_integration_tests.rs:262:64
    |
262 |     let overhead_ms = duration_with_hooks.as_millis() as f64 - duration_no_hooks.as_millis() as f64;
    |                                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

warning: casting `u128` to `f64` causes a loss of precision (`u128` is 128 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> llmspell-tools/tests/hook_integration_tests.rs:264:24
    |
264 |         (overhead_ms / duration_no_hooks.as_millis() as f64) * 100.0
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

warning: variables can be used directly in the `format!` string
   --> llmspell-tools/tests/hook_integration_tests.rs:269:5
    |
269 | /     println!(
270 | |         "No hooks: {:?}, With hooks: {:?}, Overhead: {:.2}%",
271 | |         duration_no_hooks, duration_with_hooks, overhead_percent
272 | |     );
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
    = note: `-W clippy::uninlined-format-args` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::uninlined_format_args)]`

warning: variables can be used directly in the `format!` string
   --> llmspell-tools/tests/hook_integration_tests.rs:275:5
    |
275 | /     assert!(
276 | |         overhead_percent < 20.0,
277 | |         "Hook overhead {:.2}% exceeds 20% threshold",
278 | |         overhead_percent
279 | |     );
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

warning: `llmspell-agents` (example "code_gen_agent") generated 1 warning
warning: variables can be used directly in the `format!` string
   --> llmspell-tools/tests/hook_integration_tests.rs:299:38
    |
299 |         let input = AgentInput::text(format!("Circuit breaker test {}", i)).with_parameter(
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
299 -         let input = AgentInput::text(format!("Circuit breaker test {}", i)).with_parameter(
299 +         let input = AgentInput::text(format!("Circuit breaker test {i}")).with_parameter(
    |

warning: variables can be used directly in the `format!` string
   --> llmspell-tools/tests/hook_integration_tests.rs:353:38
    |
353 |         let input = AgentInput::text(format!("Test {}", name)).with_parameter("parameters", params);
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
353 -         let input = AgentInput::text(format!("Test {}", name)).with_parameter("parameters", params);
353 +         let input = AgentInput::text(format!("Test {name}")).with_parameter("parameters", params);
    |

warning: single-character string constant used as pattern
   --> llmspell-tools/tests/hook_integration_tests.rs:413:34
    |
413 |     assert!(output.text.contains("4"));
    |                                  ^^^ help: consider using a `char`: `'4'`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_char_pattern

warning: item in documentation is missing backticks
 --> llmspell-bridge/tests/session_global_test.rs:1:36
  |
1 | //! ABOUTME: Integration tests for SessionGlobal functionality
  |                                    ^^^^^^^^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
  = note: `-W clippy::doc-markdown` implied by `-W clippy::pedantic`
  = help: to override `-W clippy::pedantic` add `#[allow(clippy::doc_markdown)]`
help: try
  |
1 - //! ABOUTME: Integration tests for SessionGlobal functionality
1 + //! ABOUTME: Integration tests for `SessionGlobal` functionality
  |

warning: `llmspell-tools` (bench "tool_operations") generated 7 warnings
warning: consider adding a `;` to the last statement for consistent formatting
  --> llmspell-bridge/benches/workflow_bridge_bench.rs:19:9
   |
19 | /         b.iter(|| {
20 | |             rt.block_on(async {
21 | |                 let params = json!({
22 | |                     "name": "test_workflow",
...  |
32 | |             })
33 | |         })
   | |__________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
   = note: `-W clippy::semicolon-if-nothing-returned` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::semicolon_if_nothing_returned)]`
help: add a `;` here
   |
19 ~         b.iter(|| {
20 +             rt.block_on(async {
21 +                 let params = json!({
22 +                     "name": "test_workflow",
23 +                     "steps": [
24 +                         {"name": "step1", "tool": "mock_tool"}
25 +                     ]
26 +                 });
27 +                 let id = bridge
28 +                     .create_workflow("sequential", black_box(params))
29 +                     .await
30 +                     .unwrap();
31 +                 black_box(id);
32 +             })
33 +         });
   |

warning: consider adding a `;` to the last statement for consistent formatting
  --> llmspell-bridge/benches/workflow_bridge_bench.rs:20:13
   |
20 | /             rt.block_on(async {
21 | |                 let params = json!({
22 | |                     "name": "test_workflow",
23 | |                     "steps": [
...  |
31 | |                 black_box(id);
32 | |             })
   | |______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
   |
20 ~             rt.block_on(async {
21 +                 let params = json!({
22 +                     "name": "test_workflow",
23 +                     "steps": [
24 +                         {"name": "step1", "tool": "mock_tool"}
25 +                     ]
26 +                 });
27 +                 let id = bridge
28 +                     .create_workflow("sequential", black_box(params))
29 +                     .await
30 +                     .unwrap();
31 +                 black_box(id);
32 +             });
   |

warning: consider adding a `;` to the last statement for consistent formatting
  --> llmspell-bridge/benches/workflow_bridge_bench.rs:37:9
   |
37 | /         b.iter(|| {
38 | |             rt.block_on(async {
39 | |                 let params = json!({
40 | |                     "name": "test_workflow",
...  |
51 | |             })
52 | |         })
   | |__________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
   |
37 ~         b.iter(|| {
38 +             rt.block_on(async {
39 +                 let params = json!({
40 +                     "name": "test_workflow",
41 +                     "branches": [
42 +                         {"name": "branch1", "steps": []}
43 +                     ],
44 +                     "max_concurrency": 2
45 +                 });
46 +                 let id = bridge
47 +                     .create_workflow("parallel", black_box(params))
48 +                     .await
49 +                     .unwrap();
50 +                 black_box(id);
51 +             })
52 +         });
   |

warning: consider adding a `;` to the last statement for consistent formatting
  --> llmspell-bridge/benches/workflow_bridge_bench.rs:38:13
   |
38 | /             rt.block_on(async {
39 | |                 let params = json!({
40 | |                     "name": "test_workflow",
41 | |                     "branches": [
...  |
50 | |                 black_box(id);
51 | |             })
   | |______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
   |
38 ~             rt.block_on(async {
39 +                 let params = json!({
40 +                     "name": "test_workflow",
41 +                     "branches": [
42 +                         {"name": "branch1", "steps": []}
43 +                     ],
44 +                     "max_concurrency": 2
45 +                 });
46 +                 let id = bridge
47 +                     .create_workflow("parallel", black_box(params))
48 +                     .await
49 +                     .unwrap();
50 +                 black_box(id);
51 +             });
   |

warning: consider adding a `;` to the last statement for consistent formatting
  --> llmspell-bridge/benches/workflow_bridge_bench.rs:62:9
   |
62 | /         b.iter(|| {
63 | |             rt.block_on(async {
64 | |                 let types = bridge.list_workflow_types();
65 | |                 black_box(types);
66 | |             })
67 | |         })
   | |__________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
   |
62 ~         b.iter(|| {
63 +             rt.block_on(async {
64 +                 let types = bridge.list_workflow_types();
65 +                 black_box(types);
66 +             })
67 +         });
   |

warning: consider adding a `;` to the last statement for consistent formatting
  --> llmspell-bridge/benches/workflow_bridge_bench.rs:63:13
   |
63 | /             rt.block_on(async {
64 | |                 let types = bridge.list_workflow_types();
65 | |                 black_box(types);
66 | |             })
   | |______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
   |
63 ~             rt.block_on(async {
64 +                 let types = bridge.list_workflow_types();
65 +                 black_box(types);
66 +             });
   |

warning: consider adding a `;` to the last statement for consistent formatting
  --> llmspell-bridge/benches/workflow_bridge_bench.rs:71:9
   |
71 | /         b.iter(|| {
72 | |             rt.block_on(async {
73 | |                 let info = bridge.get_workflow_info("sequential").unwrap();
74 | |                 black_box(info);
75 | |             })
76 | |         })
   | |__________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
   |
71 ~         b.iter(|| {
72 +             rt.block_on(async {
73 +                 let info = bridge.get_workflow_info("sequential").unwrap();
74 +                 black_box(info);
75 +             })
76 +         });
   |

warning: consider adding a `;` to the last statement for consistent formatting
  --> llmspell-bridge/benches/workflow_bridge_bench.rs:72:13
   |
72 | /             rt.block_on(async {
73 | |                 let info = bridge.get_workflow_info("sequential").unwrap();
74 | |                 black_box(info);
75 | |             })
   | |______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
   |
72 ~             rt.block_on(async {
73 +                 let info = bridge.get_workflow_info("sequential").unwrap();
74 +                 black_box(info);
75 +             });
   |

warning: consider adding a `;` to the last statement for consistent formatting
  --> llmspell-bridge/benches/workflow_bridge_bench.rs:93:9
   |
93 | /         b.iter(|| {
94 | |             let params = json_to_workflow_params(black_box(json_params.clone())).unwrap();
95 | |             black_box(params);
96 | |         })
   | |__________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
   |
93 ~         b.iter(|| {
94 +             let params = json_to_workflow_params(black_box(json_params.clone())).unwrap();
95 +             black_box(params);
96 +         });
   |

warning: consider adding a `;` to the last statement for consistent formatting
   --> llmspell-bridge/benches/workflow_bridge_bench.rs:117:9
    |
117 | /         b.iter(|| {
118 | |             rt.block_on(async {
119 | |                 let input = json!({"test": "data"});
120 | |                 let result = bridge
...   |
125 | |             })
126 | |         })
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
117 ~         b.iter(|| {
118 +             rt.block_on(async {
119 +                 let input = json!({"test": "data"});
120 +                 let result = bridge
121 +                     .execute_workflow(&workflow_id, black_box(input))
122 +                     .await
123 +                     .unwrap();
124 +                 black_box(result);
125 +             })
126 +         });
    |

warning: consider adding a `;` to the last statement for consistent formatting
   --> llmspell-bridge/benches/workflow_bridge_bench.rs:118:13
    |
118 | /             rt.block_on(async {
119 | |                 let input = json!({"test": "data"});
120 | |                 let result = bridge
121 | |                     .execute_workflow(&workflow_id, black_box(input))
...   |
124 | |                 black_box(result);
125 | |             })
    | |______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
118 ~             rt.block_on(async {
119 +                 let input = json!({"test": "data"});
120 +                 let result = bridge
121 +                     .execute_workflow(&workflow_id, black_box(input))
122 +                     .await
123 +                     .unwrap();
124 +                 black_box(result);
125 +             });
    |

warning: consider adding a `;` to the last statement for consistent formatting
   --> llmspell-bridge/benches/workflow_bridge_bench.rs:137:9
    |
137 | /         b.iter(|| {
138 | |             rt.block_on(async {
139 | |                 // Complete cycle: create, execute, get status
140 | |                 let params = json!({
...   |
159 | |             })
160 | |         })
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
137 ~         b.iter(|| {
138 +             rt.block_on(async {
139 +                 // Complete cycle: create, execute, get status
140 +                 let params = json!({
141 +                     "name": "overhead_test",
142 +                     "steps": [{"name": "step1", "tool": "mock"}]
143 +                 });
144 + 
145 +                 let start = std::time::Instant::now();
146 + 
147 +                 // Create workflow
148 +                 let id = bridge.create_workflow("sequential", params).await.unwrap();
149 + 
150 +                 // Execute workflow
151 +                 let result = bridge.execute_workflow(&id, json!({})).await.unwrap();
152 + 
153 +                 // Get execution history instead of status
154 +                 let history = bridge.get_execution_history().await;
155 + 
156 +                 let duration = start.elapsed();
157 + 
158 +                 black_box((id, result, history, duration));
159 +             })
160 +         });
    |

warning: consider adding a `;` to the last statement for consistent formatting
   --> llmspell-bridge/benches/workflow_bridge_bench.rs:138:13
    |
138 | /             rt.block_on(async {
139 | |                 // Complete cycle: create, execute, get status
140 | |                 let params = json!({
141 | |                     "name": "overhead_test",
...   |
158 | |                 black_box((id, result, history, duration));
159 | |             })
    | |______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
138 ~             rt.block_on(async {
139 +                 // Complete cycle: create, execute, get status
140 +                 let params = json!({
141 +                     "name": "overhead_test",
142 +                     "steps": [{"name": "step1", "tool": "mock"}]
143 +                 });
144 + 
145 +                 let start = std::time::Instant::now();
146 + 
147 +                 // Create workflow
148 +                 let id = bridge.create_workflow("sequential", params).await.unwrap();
149 + 
150 +                 // Execute workflow
151 +                 let result = bridge.execute_workflow(&id, json!({})).await.unwrap();
152 + 
153 +                 // Get execution history instead of status
154 +                 let history = bridge.get_execution_history().await;
155 + 
156 +                 let duration = start.elapsed();
157 + 
158 +                 black_box((id, result, history, duration));
159 +             });
    |

warning: this function has too many lines (140/100)
   --> llmspell-bridge/benches/workflow_bridge_bench.rs:164:1
    |
164 | / fn benchmark_lua_workflow_api(c: &mut Criterion) {
165 | |     use llmspell_bridge::globals::{create_standard_registry, GlobalContext, GlobalInjector};
166 | |     use llmspell_bridge::providers::{ProviderManager, ProviderManagerConfig};
...   |
331 | |     });
332 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines
    = note: `-W clippy::too-many-lines` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::too_many_lines)]`

warning: redundant clone
   --> llmspell-bridge/benches/workflow_bridge_bench.rs:176:55
    |
176 |     let context = Arc::new(GlobalContext::new(registry.clone(), providers));
    |                                                       ^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> llmspell-bridge/benches/workflow_bridge_bench.rs:176:47
    |
176 |     let context = Arc::new(GlobalContext::new(registry.clone(), providers));
    |                                               ^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone
    = note: `-W clippy::redundant-clone` implied by `-W clippy::nursery`
    = help: to override `-W clippy::nursery` add `#[allow(clippy::redundant_clone)]`

warning: consider adding a `;` to the last statement for consistent formatting
   --> llmspell-bridge/benches/workflow_bridge_bench.rs:184:9
    |
184 | /         b.iter(|| {
185 | |             let start = std::time::Instant::now();
186 | |
187 | |             lua.load(
...   |
202 | |             black_box(duration);
203 | |         })
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
184 ~         b.iter(|| {
185 +             let start = std::time::Instant::now();
186 + 
187 +             lua.load(
188 +                 r#"
189 +                 local workflow = Workflow.sequential({
190 +                     name = "bench_sequential",
191 +                     steps = {
192 +                         {name = "step1", type = "tool", tool = "mock_tool", input = {value = 42}}
193 +                     }
194 +                 })
195 +                 return workflow
196 +             "#,
197 +             )
198 +             .eval::<mlua::Value>()
199 +             .unwrap();
200 + 
201 +             let duration = start.elapsed();
202 +             black_box(duration);
203 +         });
    |

warning: consider adding a `;` to the last statement for consistent formatting
   --> llmspell-bridge/benches/workflow_bridge_bench.rs:208:9
    |
208 | /         b.iter(|| {
209 | |             let start = std::time::Instant::now();
210 | |
211 | |             lua.load(
...   |
232 | |             black_box(duration);
233 | |         })
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
208 ~         b.iter(|| {
209 +             let start = std::time::Instant::now();
210 + 
211 +             lua.load(
212 +                 r#"
213 +                 local workflow = Workflow.conditional({
214 +                     name = "bench_conditional",
215 +                     branches = {
216 +                         {
217 +                             name = "branch1",
218 +                             condition = {type = "always"},
219 +                             steps = {
220 +                                 {name = "step1", type = "tool", tool = "mock_tool", input = {}}
221 +                             }
222 +                         }
223 +                     }
224 +                 })
225 +                 return workflow
226 +             "#,
227 +             )
228 +             .eval::<mlua::Value>()
229 +             .unwrap();
230 + 
231 +             let duration = start.elapsed();
232 +             black_box(duration);
233 +         });
    |

warning: consider adding a `;` to the last statement for consistent formatting
   --> llmspell-bridge/benches/workflow_bridge_bench.rs:238:9
    |
238 | /         b.iter(|| {
239 | |             let start = std::time::Instant::now();
240 | |
241 | |             lua.load(
...   |
260 | |             black_box(duration);
261 | |         })
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
238 ~         b.iter(|| {
239 +             let start = std::time::Instant::now();
240 + 
241 +             lua.load(
242 +                 r#"
243 +                 local workflow = Workflow.loop({
244 +                     name = "bench_loop",
245 +                     iterator = "range",
246 +                     start = 1,
247 +                     ["end"] = 10,
248 +                     step = 1,
249 +                     body = {
250 +                         {name = "step1", type = "tool", tool = "mock_tool", input = {}}
251 +                     }
252 +                 })
253 +                 return workflow
254 +             "#,
255 +             )
256 +             .eval::<mlua::Value>()
257 +             .unwrap();
258 + 
259 +             let duration = start.elapsed();
260 +             black_box(duration);
261 +         });
    |

warning: consider adding a `;` to the last statement for consistent formatting
   --> llmspell-bridge/benches/workflow_bridge_bench.rs:266:9
    |
266 | /         b.iter(|| {
267 | |             let start = std::time::Instant::now();
268 | |
269 | |             lua.load(
...   |
290 | |             black_box(duration);
291 | |         })
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
266 ~         b.iter(|| {
267 +             let start = std::time::Instant::now();
268 + 
269 +             lua.load(
270 +                 r#"
271 +                 local workflow = Workflow.parallel({
272 +                     name = "bench_parallel",
273 +                     max_concurrency = 4,
274 +                     branches = {
275 +                         {
276 +                             name = "branch1",
277 +                             steps = {
278 +                                 {name = "step1", type = "tool", tool = "mock_tool", input = {}}
279 +                             }
280 +                         }
281 +                     }
282 +                 })
283 +                 return workflow
284 +             "#,
285 +             )
286 +             .eval::<mlua::Value>()
287 +             .unwrap();
288 + 
289 +             let duration = start.elapsed();
290 +             black_box(duration);
291 +         });
    |

warning: consider adding a `;` to the last statement for consistent formatting
   --> llmspell-bridge/benches/workflow_bridge_bench.rs:296:9
    |
296 | /         b.iter(|| {
297 | |             let start = std::time::Instant::now();
298 | |
299 | |             lua.load("return Workflow.list()")
...   |
304 | |             black_box(duration);
305 | |         })
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
296 ~         b.iter(|| {
297 +             let start = std::time::Instant::now();
298 + 
299 +             lua.load("return Workflow.list()")
300 +                 .eval::<mlua::Value>()
301 +                 .unwrap();
302 + 
303 +             let duration = start.elapsed();
304 +             black_box(duration);
305 +         });
    |

warning: calling `FileWatcherConfig::default()` is more clear than this expression
  --> llmspell-tools/tests/remaining_tools_basic.rs:38:37
   |
38 |     let tool = FileWatcherTool::new(Default::default(), sandbox.clone());
   |                                     ^^^^^^^^^^^^^^^^^^ help: try: `FileWatcherConfig::default()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access
   = note: `-W clippy::default-trait-access` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::default_trait_access)]`

warning: consider adding a `;` to the last statement for consistent formatting
   --> llmspell-bridge/benches/workflow_bridge_bench.rs:310:9
    |
310 | /         b.iter(|| {
311 | |             let start = std::time::Instant::now();
312 | |
313 | |             lua.load(
...   |
329 | |             black_box(duration);
330 | |         })
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
310 ~         b.iter(|| {
311 +             let start = std::time::Instant::now();
312 + 
313 +             lua.load(
314 +                 r#"
315 +                 local workflow = Workflow.sequential({
316 +                     name = "bench_complete",
317 +                     steps = {
318 +                         {name = "step1", type = "tool", tool = "mock_tool", input = {data = "test"}}
319 +                     }
320 +                 })
321 +                 local result = workflow:execute({input = "test_data"})
322 +                 return result
323 +             "#,
324 +             )
325 +             .eval::<mlua::Value>()
326 +             .unwrap();
327 + 
328 +             let duration = start.elapsed();
329 +             black_box(duration);
330 +         });
    |

warning: calling `FileConverterConfig::default()` is more clear than this expression
  --> llmspell-tools/tests/remaining_tools_basic.rs:45:39
   |
45 |     let tool = FileConverterTool::new(Default::default(), sandbox.clone());
   |                                       ^^^^^^^^^^^^^^^^^^ help: try: `FileConverterConfig::default()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `FileSearchConfig::default()` is more clear than this expression
  --> llmspell-tools/tests/remaining_tools_basic.rs:51:36
   |
51 |     let tool = FileSearchTool::new(Default::default(), sandbox);
   |                                    ^^^^^^^^^^^^^^^^^^ help: try: `FileSearchConfig::default()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `EnvironmentReaderConfig::default()` is more clear than this expression
  --> llmspell-tools/tests/remaining_tools_basic.rs:59:43
   |
59 |     let tool = EnvironmentReaderTool::new(Default::default());
   |                                           ^^^^^^^^^^^^^^^^^^ help: try: `EnvironmentReaderConfig::default()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `ProcessExecutorConfig::default()` is more clear than this expression
  --> llmspell-tools/tests/remaining_tools_basic.rs:65:41
   |
65 |     let tool = ProcessExecutorTool::new(Default::default());
   |                                         ^^^^^^^^^^^^^^^^^^ help: try: `ProcessExecutorConfig::default()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `ServiceCheckerConfig::default()` is more clear than this expression
  --> llmspell-tools/tests/remaining_tools_basic.rs:71:40
   |
71 |     let tool = ServiceCheckerTool::new(Default::default());
   |                                        ^^^^^^^^^^^^^^^^^^ help: try: `ServiceCheckerConfig::default()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `SystemMonitorConfig::default()` is more clear than this expression
  --> llmspell-tools/tests/remaining_tools_basic.rs:77:39
   |
77 |     let tool = SystemMonitorTool::new(Default::default());
   |                                       ^^^^^^^^^^^^^^^^^^ help: try: `SystemMonitorConfig::default()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `AudioProcessorConfig::default()` is more clear than this expression
  --> llmspell-tools/tests/remaining_tools_basic.rs:85:40
   |
85 |     let tool = AudioProcessorTool::new(Default::default());
   |                                        ^^^^^^^^^^^^^^^^^^ help: try: `AudioProcessorConfig::default()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `VideoProcessorConfig::default()` is more clear than this expression
  --> llmspell-tools/tests/remaining_tools_basic.rs:91:40
   |
91 |     let tool = VideoProcessorTool::new(Default::default());
   |                                        ^^^^^^^^^^^^^^^^^^ help: try: `VideoProcessorConfig::default()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `ImageProcessorConfig::default()` is more clear than this expression
  --> llmspell-tools/tests/remaining_tools_basic.rs:97:40
   |
97 |     let tool = ImageProcessorTool::new(Default::default());
   |                                        ^^^^^^^^^^^^^^^^^^ help: try: `ImageProcessorConfig::default()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `WebSearchConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:104:35
    |
104 |     let tool = WebSearchTool::new(Default::default()).unwrap();
    |                                   ^^^^^^^^^^^^^^^^^^ help: try: `WebSearchConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `HashCalculatorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:112:40
    |
112 |     let tool = HashCalculatorTool::new(Default::default());
    |                                        ^^^^^^^^^^^^^^^^^^ help: try: `HashCalculatorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `TextManipulatorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:118:41
    |
118 |     let tool = TextManipulatorTool::new(Default::default());
    |                                         ^^^^^^^^^^^^^^^^^^ help: try: `TextManipulatorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `UuidGeneratorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:124:39
    |
124 |     let tool = UuidGeneratorTool::new(Default::default());
    |                                       ^^^^^^^^^^^^^^^^^^ help: try: `UuidGeneratorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `FileWatcherConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:137:39
    |
137 |         Box::new(FileWatcherTool::new(Default::default(), sandbox.clone())),
    |                                       ^^^^^^^^^^^^^^^^^^ help: try: `FileWatcherConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `FileConverterConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:138:41
    |
138 |         Box::new(FileConverterTool::new(Default::default(), sandbox.clone())),
    |                                         ^^^^^^^^^^^^^^^^^^ help: try: `FileConverterConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `FileSearchConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:139:38
    |
139 |         Box::new(FileSearchTool::new(Default::default(), sandbox)),
    |                                      ^^^^^^^^^^^^^^^^^^ help: try: `FileSearchConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `EnvironmentReaderConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:140:45
    |
140 |         Box::new(EnvironmentReaderTool::new(Default::default())),
    |                                             ^^^^^^^^^^^^^^^^^^ help: try: `EnvironmentReaderConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `ProcessExecutorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:141:43
    |
141 |         Box::new(ProcessExecutorTool::new(Default::default())),
    |                                           ^^^^^^^^^^^^^^^^^^ help: try: `ProcessExecutorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `ServiceCheckerConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:142:42
    |
142 |         Box::new(ServiceCheckerTool::new(Default::default())),
    |                                          ^^^^^^^^^^^^^^^^^^ help: try: `ServiceCheckerConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `SystemMonitorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:143:41
    |
143 |         Box::new(SystemMonitorTool::new(Default::default())),
    |                                         ^^^^^^^^^^^^^^^^^^ help: try: `SystemMonitorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `AudioProcessorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:144:42
    |
144 |         Box::new(AudioProcessorTool::new(Default::default())),
    |                                          ^^^^^^^^^^^^^^^^^^ help: try: `AudioProcessorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `VideoProcessorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:145:42
    |
145 |         Box::new(VideoProcessorTool::new(Default::default())),
    |                                          ^^^^^^^^^^^^^^^^^^ help: try: `VideoProcessorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `ImageProcessorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:146:42
    |
146 |         Box::new(ImageProcessorTool::new(Default::default())),
    |                                          ^^^^^^^^^^^^^^^^^^ help: try: `ImageProcessorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `WebSearchConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:147:37
    |
147 |         Box::new(WebSearchTool::new(Default::default()).unwrap()),
    |                                     ^^^^^^^^^^^^^^^^^^ help: try: `WebSearchConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `HashCalculatorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:148:42
    |
148 |         Box::new(HashCalculatorTool::new(Default::default())),
    |                                          ^^^^^^^^^^^^^^^^^^ help: try: `HashCalculatorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `TextManipulatorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:149:43
    |
149 |         Box::new(TextManipulatorTool::new(Default::default())),
    |                                           ^^^^^^^^^^^^^^^^^^ help: try: `TextManipulatorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `UuidGeneratorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:150:41
    |
150 |         Box::new(UuidGeneratorTool::new(Default::default())),
    |                                         ^^^^^^^^^^^^^^^^^^ help: try: `UuidGeneratorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `HashCalculatorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:174:40
    |
174 |     let tool = HashCalculatorTool::new(Default::default());
    |                                        ^^^^^^^^^^^^^^^^^^ help: try: `HashCalculatorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `UuidGeneratorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:195:39
    |
195 |     let tool = UuidGeneratorTool::new(Default::default());
    |                                       ^^^^^^^^^^^^^^^^^^ help: try: `UuidGeneratorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `WebSearchConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:215:35
    |
215 |     let tool = WebSearchTool::new(Default::default()).unwrap();
    |                                   ^^^^^^^^^^^^^^^^^^ help: try: `WebSearchConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `FileWatcherConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:253:38
    |
253 |         let _ = FileWatcherTool::new(Default::default(), sandbox.clone());
    |                                      ^^^^^^^^^^^^^^^^^^ help: try: `FileWatcherConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `FileConverterConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:254:40
    |
254 |         let _ = FileConverterTool::new(Default::default(), sandbox.clone());
    |                                        ^^^^^^^^^^^^^^^^^^ help: try: `FileConverterConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `FileSearchConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:255:37
    |
255 |         let _ = FileSearchTool::new(Default::default(), sandbox);
    |                                     ^^^^^^^^^^^^^^^^^^ help: try: `FileSearchConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `EnvironmentReaderConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:256:44
    |
256 |         let _ = EnvironmentReaderTool::new(Default::default());
    |                                            ^^^^^^^^^^^^^^^^^^ help: try: `EnvironmentReaderConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `ProcessExecutorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:257:42
    |
257 |         let _ = ProcessExecutorTool::new(Default::default());
    |                                          ^^^^^^^^^^^^^^^^^^ help: try: `ProcessExecutorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `ServiceCheckerConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:258:41
    |
258 |         let _ = ServiceCheckerTool::new(Default::default());
    |                                         ^^^^^^^^^^^^^^^^^^ help: try: `ServiceCheckerConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `SystemMonitorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:259:40
    |
259 |         let _ = SystemMonitorTool::new(Default::default());
    |                                        ^^^^^^^^^^^^^^^^^^ help: try: `SystemMonitorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `AudioProcessorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:260:41
    |
260 |         let _ = AudioProcessorTool::new(Default::default());
    |                                         ^^^^^^^^^^^^^^^^^^ help: try: `AudioProcessorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `VideoProcessorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:261:41
    |
261 |         let _ = VideoProcessorTool::new(Default::default());
    |                                         ^^^^^^^^^^^^^^^^^^ help: try: `VideoProcessorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `ImageProcessorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:262:41
    |
262 |         let _ = ImageProcessorTool::new(Default::default());
    |                                         ^^^^^^^^^^^^^^^^^^ help: try: `ImageProcessorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `WebSearchConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:263:36
    |
263 |         let _ = WebSearchTool::new(Default::default()).unwrap();
    |                                    ^^^^^^^^^^^^^^^^^^ help: try: `WebSearchConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `HashCalculatorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:264:41
    |
264 |         let _ = HashCalculatorTool::new(Default::default());
    |                                         ^^^^^^^^^^^^^^^^^^ help: try: `HashCalculatorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `TextManipulatorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:265:42
    |
265 |         let _ = TextManipulatorTool::new(Default::default());
    |                                          ^^^^^^^^^^^^^^^^^^ help: try: `TextManipulatorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: calling `UuidGeneratorConfig::default()` is more clear than this expression
   --> llmspell-tools/tests/remaining_tools_basic.rs:266:40
    |
266 |         let _ = UuidGeneratorTool::new(Default::default());
    |                                        ^^^^^^^^^^^^^^^^^^ help: try: `UuidGeneratorConfig::default()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#default_trait_access

warning: `llmspell-agents` (example "monitoring_setup") generated 12 warnings
warning: `llmspell-tools` (test "hook_integration_tests") generated 9 warnings (run `cargo clippy --fix --test "hook_integration_tests"` to apply 6 suggestions)
error[E0061]: this method takes 2 arguments but 0 arguments were supplied
   --> llmspell-workflows/benches/workflow_hook_overhead.rs:322:35
    |
322 |             let result = workflow.execute().await.unwrap();
    |                                   ^^^^^^^-- two arguments of type `llmspell_core::types::AgentInput` and `llmspell_core::ExecutionContext` are missing
    |
note: method defined here
   --> /Users/spuri/projects/lexlapax/rs-llmspell/llmspell-core/src/traits/base_agent.rs:93:14
    |
93  |     async fn execute(&self, input: AgentInput, context: ExecutionContext) -> Result<AgentOutput>;
    |              ^^^^^^^
help: provide the arguments
    |
322 -             let result = workflow.execute().await.unwrap();
322 +             let result = workflow.execute(/* llmspell_core::types::AgentInput */, /* llmspell_core::ExecutionContext */).await.unwrap();
    |

warning: `llmspell-bridge` (bench "workflow_bridge_bench") generated 21 warnings (run `cargo clippy --fix --bench "workflow_bridge_bench"` to apply 20 suggestions)
warning: `llmspell-bridge` (test "session_global_test") generated 1 warning (run `cargo clippy --fix --test "session_global_test"` to apply 1 suggestion)
warning: `llmspell-tools` (test "remaining_tools_basic") generated 45 warnings
error[E0061]: this method takes 2 arguments but 0 arguments were supplied
   --> llmspell-workflows/benches/workflow_hook_overhead.rs:340:35
    |
340 |             let result = workflow.execute().await.unwrap();
    |                                   ^^^^^^^-- two arguments of type `llmspell_core::types::AgentInput` and `llmspell_core::ExecutionContext` are missing
    |
note: method defined here
   --> /Users/spuri/projects/lexlapax/rs-llmspell/llmspell-core/src/traits/base_agent.rs:93:14
    |
93  |     async fn execute(&self, input: AgentInput, context: ExecutionContext) -> Result<AgentOutput>;
    |              ^^^^^^^
help: provide the arguments
    |
340 -             let result = workflow.execute().await.unwrap();
340 +             let result = workflow.execute(/* llmspell_core::types::AgentInput */, /* llmspell_core::ExecutionContext */).await.unwrap();
    |

error[E0061]: this method takes 2 arguments but 0 arguments were supplied
   --> llmspell-workflows/benches/workflow_hook_overhead.rs:360:35
    |
360 |             let result = workflow.execute().await.unwrap();
    |                                   ^^^^^^^-- two arguments of type `llmspell_core::types::AgentInput` and `llmspell_core::ExecutionContext` are missing
    |
note: method defined here
   --> /Users/spuri/projects/lexlapax/rs-llmspell/llmspell-core/src/traits/base_agent.rs:93:14
    |
93  |     async fn execute(&self, input: AgentInput, context: ExecutionContext) -> Result<AgentOutput>;
    |              ^^^^^^^
help: provide the arguments
    |
360 -             let result = workflow.execute().await.unwrap();
360 +             let result = workflow.execute(/* llmspell_core::types::AgentInput */, /* llmspell_core::ExecutionContext */).await.unwrap();
    |

warning: useless conversion to the same type: `llmspell_workflows::WorkflowStep`
   --> llmspell-testing/benches/integrated_overhead.rs:397:37
    |
397 |                         steps: vec![step.into()],
    |                                     ^^^^^^^^^^^ help: consider removing `.into()`: `step`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#useless_conversion
    = note: `#[warn(clippy::useless_conversion)]` on by default

error[E0061]: this method takes 2 arguments but 0 arguments were supplied
   --> llmspell-workflows/benches/workflow_hook_overhead.rs:385:35
    |
385 |             let result = workflow.execute().await.unwrap();
    |                                   ^^^^^^^-- two arguments of type `llmspell_core::types::AgentInput` and `llmspell_core::ExecutionContext` are missing
    |
note: method defined here
   --> /Users/spuri/projects/lexlapax/rs-llmspell/llmspell-core/src/traits/base_agent.rs:93:14
    |
93  |     async fn execute(&self, input: AgentInput, context: ExecutionContext) -> Result<AgentOutput>;
    |              ^^^^^^^
help: provide the arguments
    |
385 -             let result = workflow.execute().await.unwrap();
385 +             let result = workflow.execute(/* llmspell_core::types::AgentInput */, /* llmspell_core::ExecutionContext */).await.unwrap();
    |

For more information about this error, try `rustc --explain E0061`.
warning: `llmspell-testing` (bench "integrated_overhead") generated 1 warning (run `cargo clippy --fix --bench "integrated_overhead"` to apply 1 suggestion)
warning: `llmspell-hooks` (lib test) generated 17 warnings (run `cargo clippy --fix --lib -p llmspell-hooks --tests` to apply 6 suggestions)
error: could not compile `llmspell-workflows` (bench "workflow_hook_overhead") due to 4 previous errors
